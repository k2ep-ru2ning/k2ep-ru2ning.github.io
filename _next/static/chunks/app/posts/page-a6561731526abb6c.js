(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{4074:(e,r,t)=>{Promise.resolve().then(t.bind(t,122))},6046:(e,r,t)=>{"use strict";var n=t(6658);t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},122:(e,r,t)=>{"use strict";t.d(r,{default:()=>p});var n=t(5155),s=t(8173),l=t.n(s),a=t(2950),i=t(6046),c=t(2115),o=t(5205);function d(e){let{className:r,...t}=e;return(0,n.jsx)("ul",{className:(0,o.A)("flex flex-col",r),...t})}function u(e){let{as:r,children:t,className:n}=e;return(0,c.createElement)(r,{className:(0,o.A)("font-bold text-3xl","h2"===r&&"text-2xl","h3"===r&&"text-xl",n)},t)}function g(e){let{tag:r,className:t}=e;return(0,n.jsx)("div",{className:(0,o.A)("before:content-['#'] before:mr-0.5 m-0.5 px-2 py-1 rounded-md bg-zinc-200 dark:bg-zinc-700",t),children:r})}function h(e){let{className:r,...t}=e;return(0,n.jsx)("ul",{className:(0,o.A)("flex flex-wrap gap-2 items-center",r),...t})}function x(e){var r;let{post:{title:t,description:s,createdAt:a,absoluteUrl:i,tags:c}}=e;return(0,n.jsx)("li",{className:"py-6 sm:py-8 border-b-1 first:border-t-1 border-zinc-300 dark:border-zinc-700",children:(0,n.jsxs)(l(),{href:i,className:"group flex flex-col md:flex-row md:gap-x-8",children:[(0,n.jsx)("time",{className:"text-sm text-zinc-700 dark:text-zinc-300 leading-8 md:shrink-0 group-hover:text-indigo-500 transition-colors",children:[(r=a).getFullYear(),r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1,10>r.getDate()?"0"+r.getDate():r.getDate()].join(".")}),(0,n.jsxs)("div",{className:"flex flex-col gap-3 md:grow",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-3 group-hover:text-indigo-500 transition-colors",children:[(0,n.jsx)(u,{as:"h3",className:"leading-8",children:t}),s.length>0?(0,n.jsx)("p",{children:s}):null]}),c&&c.length>0?(0,n.jsx)(h,{children:c.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)(g,{tag:e,className:"group-hover:bg-zinc-300 dark:group-hover:bg-zinc-600 transition-colors"})},e))}):null]})]})})}function m(e){let{activePageNumber:r,numberOfPages:t,generatePageLink:s}=e,i=function(e,r){e<1&&(e=1),e>r&&(e=r);let t=Math.min(5,r),n=Math.floor(t/2),s=Array.from({length:t},(r,t)=>e+(t-n)),l=s.reduce((e,r)=>r<1?e+1:e,0),a=s.reduce((e,t)=>t>r?e+1:e,0);for(let e=0;e<l;e++){let e=s.at(-1);e&&(s.push(e+1),s.shift())}for(let e=0;e<a;e++){let e=s.at(0);e&&(s.unshift(e-1),s.pop())}return s}(r,t),c=r>=1&&r<=t;return(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:"p-4 flex items-center justify-center gap-2",children:[(0,n.jsx)("li",{children:(0,n.jsx)(l(),{"aria-label":"Go to previous page",href:s(r-1),className:(0,o.A)("size-7 flex justify-center items-center border border-zinc-300 dark:border-zinc-700 rounded-md",(!c||1===r)&&"pointer-events-none text-zinc-300 dark:text-zinc-700"),children:(0,n.jsx)(a.i84,{className:"size-4"})})}),i.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:s(e),className:(0,o.A)("size-7 flex justify-center items-center border border-zinc-300 dark:border-zinc-700 rounded-md px-2",e===r&&"font-bold text-indigo-500"),children:e})},e)),(0,n.jsx)("li",{children:(0,n.jsx)(l(),{"aria-label":"Go to next page",href:s(r+1),className:(0,o.A)("size-7 flex justify-center items-center border border-zinc-300 dark:border-zinc-700 rounded-md",(!c||r===t)&&"pointer-events-none text-zinc-300 dark:text-zinc-700"),children:(0,n.jsx)(a.xCi,{className:"size-4"})})})]})})}function f(e){let{link:r,tag:t,className:s}=e;return(0,n.jsx)(l(),{href:r,children:(0,n.jsx)(g,{tag:t,className:(0,o.A)("hover:bg-zinc-300 dark:hover:bg-zinc-600",s)})})}function p(e){let{posts:r,tags:t}=e,s=function(){let e=(0,i.useSearchParams)();return(0,c.useCallback)((r,t)=>{let n=new URLSearchParams(e.toString());return n.set(r,t),n.toString()},[e])}(),u=function(){let e=(0,i.useSearchParams)().getAll("tag");return e.length>=2?{result:"invalid",reason:"tag query string[".concat(e.join(","),"]이 2개 이상입니다.")}:0===e.length||""===e[0]?{result:"selectAll"}:{result:"selectTag",value:e[0]}}(),g=function(){let e=(0,i.useSearchParams)().getAll("page");return e.length>=2?{isValid:!1,reason:"page query string[".concat(e.join(","),"]이 2개 이상입니다.")}:0===e.length||""===e[0]?{isValid:!0,value:"1"}:/^[-+]?\d+$/.test(e[0])?{isValid:!0,value:e[0]}:{isValid:!1,reason:'page query string("'.concat(e[0],'")이 정수로 파싱할 수 있는 문자열이 아닙니다.')}}();if("invalid"===u.result||!g.isValid)return(0,n.jsxs)("div",{className:"flex flex-col gap-y-3",children:[(0,n.jsxs)("p",{children:["선택한 ",(0,n.jsx)("strong",{children:"태그"})," 또는 ",(0,n.jsx)("strong",{children:"페이지 번호"}),"가 잘못되었습니다."]}),(0,n.jsxs)(l(),{href:"/posts",replace:!0,className:"flex items-center gap-1.5 p-1 rounded-md self-start hover:bg-zinc-200 dark:hover:bg-zinc-700",children:["초기화",(0,n.jsx)(a.JbZ,{className:"size-5"})]})]});let p=parseInt(g.value),j="selectTag"===u.result?r.filter(e=>{var r;return null===(r=e.tags)||void 0===r?void 0:r.includes(u.value)}):r,b=Math.max(1,Math.ceil(j.length/4)),v=p>=1&&p<=b?j.slice((p-1)*4,(p-1)*4+4):[];return(0,n.jsxs)(n.Fragment,{children:[0===t.length?null:(0,n.jsxs)(h,{className:"flex-nowrap max-w-ful overflow-auto",children:[(0,n.jsx)("li",{className:"shrink-0",children:(0,n.jsx)(f,{tag:"전체",link:"/posts",className:(0,o.A)("selectAll"===u.result&&"bg-indigo-500 dark:bg-indigo-500 hover:bg-indigo-500 hover:dark:bg-indigo-500 text-zinc-50")})}),t.map(e=>(0,n.jsx)("li",{className:"shrink-0",children:(0,n.jsx)(f,{tag:e,link:"/posts?tag=".concat(e),className:(0,o.A)("selectTag"===u.result&&u.value===e&&"bg-indigo-500 dark:bg-indigo-500 hover:bg-indigo-500 hover:dark:bg-indigo-500 text-zinc-50")})},e))]}),0===v.length?(0,n.jsxs)("p",{children:["선택한 ",(0,n.jsx)("strong",{children:"태그"}),"와 ",(0,n.jsx)("strong",{children:"페이지 번호"}),"에 맞는 글이 없습니다."]}):(0,n.jsx)(d,{children:v.map(e=>(0,n.jsx)(x,{post:e},e.absoluteUrl))}),(0,n.jsx)(m,{generatePageLink:e=>"/posts?"+s("page",String(e)),activePageNumber:p,numberOfPages:b})]})}},5205:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var n=t(3463),s=t(9795);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,n.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[150,173,99,441,517,358],()=>r(4074)),_N_E=e.O()}]);