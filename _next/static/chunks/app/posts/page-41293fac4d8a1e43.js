(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{874:(e,r,t)=>{Promise.resolve().then(t.bind(t,2321))},2321:(e,r,t)=>{"use strict";t.d(r,{default:()=>p});var n=t(7553),s=t(4742),l=t.n(s),a=t(8815),i=t(3851),c=t(5525),o=t(3053);function d(e){let{className:r,...t}=e;return(0,n.jsx)("ul",{className:(0,o.A)("flex flex-col",r),...t})}function u(e){let{as:r,children:t,className:n}=e;return(0,c.createElement)(r,{className:(0,o.A)("font-bold text-3xl","h2"===r&&"text-2xl","h3"===r&&"text-xl",n)},t)}function h(e){let{tag:r,className:t}=e;return(0,n.jsx)("div",{className:(0,o.A)("before:content-['#'] before:mr-0.5 m-0.5 px-2 py-1 rounded-md bg-zinc-200 dark:bg-zinc-700",t),children:r})}function g(e){let{className:r,...t}=e;return(0,n.jsx)("ul",{className:(0,o.A)("flex flex-wrap gap-2 items-center",r),...t})}function x(e){let{post:{title:r,description:t,createdAt:s,absoluteUrl:a,tags:i}}=e;return(0,n.jsx)("li",{className:"py-6 sm:py-8 border-b-1 first:border-t-1 border-zinc-300 dark:border-zinc-700",children:(0,n.jsxs)(l(),{href:a,className:"group flex flex-col md:flex-row md:gap-x-8",children:[(0,n.jsx)("time",{className:"text-sm text-zinc-700 dark:text-zinc-300 leading-8 md:shrink-0 group-hover:text-indigo-500 transition-colors",children:function(e){let r=e.getFullYear();return[r,e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,10>e.getDate()?"0"+e.getDate():e.getDate()].join(".")}(s)}),(0,n.jsxs)("div",{className:"flex flex-col gap-3 md:grow",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-3 group-hover:text-indigo-500 transition-colors",children:[(0,n.jsx)(u,{as:"h3",className:"leading-8",children:r}),t.length>0?(0,n.jsx)("p",{className:"whitespace-pre-wrap",children:t}):null]}),i&&i.length>0?(0,n.jsx)(g,{children:i.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)(h,{tag:e,className:"group-hover:bg-zinc-300 dark:group-hover:bg-zinc-600 transition-colors"})},e))}):null]})]})})}function m(e){let{activePageNumber:r,numberOfPages:t,generatePageLink:s}=e,i=function(e,r){e<1&&(e=1),e>r&&(e=r);let t=Math.min(5,r),n=Math.floor(t/2),s=Array.from({length:t},(r,t)=>e+(t-n)),l=s.reduce((e,r)=>r<1?e+1:e,0),a=s.reduce((e,t)=>t>r?e+1:e,0);for(let e=0;e<l;e++){let e=s.at(-1);e&&(s.push(e+1),s.shift())}for(let e=0;e<a;e++){let e=s.at(0);e&&(s.unshift(e-1),s.pop())}return s}(r,t),c=r>=1&&r<=t;return(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:"p-4 flex items-center justify-center gap-2",children:[(0,n.jsx)("li",{children:(0,n.jsx)(l(),{"aria-label":"Go to previous page",href:s(r-1),className:(0,o.A)("size-7 flex justify-center items-center border border-zinc-300 dark:border-zinc-700 rounded-md",(!c||1===r)&&"pointer-events-none text-zinc-300 dark:text-zinc-700"),children:(0,n.jsx)(a.i84,{className:"size-4"})})}),i.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:s(e),className:(0,o.A)("size-7 flex justify-center items-center border border-zinc-300 dark:border-zinc-700 rounded-md px-2",e===r&&"font-bold text-indigo-500"),children:e})},e)),(0,n.jsx)("li",{children:(0,n.jsx)(l(),{"aria-label":"Go to next page",href:s(r+1),className:(0,o.A)("size-7 flex justify-center items-center border border-zinc-300 dark:border-zinc-700 rounded-md",(!c||r===t)&&"pointer-events-none text-zinc-300 dark:text-zinc-700"),children:(0,n.jsx)(a.xCi,{className:"size-4"})})})]})})}function f(e){let{tag:r,isActive:t=!1}=e,s="/posts";return"전체"!==r&&(s+="?tag=".concat(encodeURIComponent(r))),(0,n.jsx)(l(),{href:s,children:(0,n.jsx)(h,{tag:r,className:(0,o.A)("hover:bg-zinc-300 dark:hover:bg-zinc-600",t&&"bg-indigo-500 dark:bg-indigo-500 hover:bg-indigo-500 hover:dark:bg-indigo-500 text-zinc-50")})})}function p(e){let{posts:r,tags:t}=e,s=function(){let e=(0,i.useSearchParams)();return(0,c.useCallback)((r,t)=>{let n=new URLSearchParams(e.toString());return n.set(r,t),n.toString()},[e])}(),o=function(){let e=(0,i.useSearchParams)().getAll("tag");return e.length>=2?{result:"invalid",reason:"tag query string[".concat(e.join(","),"]이 2개 이상입니다.")}:0===e.length||""===e[0]?{result:"selectAll"}:{result:"selectTag",value:e[0]}}(),u=function(){let e=(0,i.useSearchParams)().getAll("page");return e.length>=2?{isValid:!1,reason:"page query string[".concat(e.join(","),"]이 2개 이상입니다.")}:0===e.length||""===e[0]?{isValid:!0,value:"1"}:/^[-+]?\d+$/.test(e[0])?{isValid:!0,value:e[0]}:{isValid:!1,reason:'page query string("'.concat(e[0],'")이 정수로 파싱할 수 있는 문자열이 아닙니다.')}}();if("invalid"===o.result||!u.isValid)return(0,n.jsxs)("div",{className:"flex flex-col gap-y-3",children:[(0,n.jsxs)("p",{children:["선택한 ",(0,n.jsx)("strong",{children:"태그"})," 또는 ",(0,n.jsx)("strong",{children:"페이지 번호"}),"가 잘못되었습니다."]}),(0,n.jsxs)(l(),{href:"/posts",replace:!0,className:"flex items-center gap-1.5 p-1 rounded-md self-start hover:bg-zinc-200 dark:hover:bg-zinc-700",children:["초기화",(0,n.jsx)(a.JbZ,{className:"size-5"})]})]});let h=parseInt(u.value),p="selectTag"===o.result?r.filter(e=>{var r;return null==(r=e.tags)?void 0:r.includes(o.value)}):r,j=Math.max(1,Math.ceil(p.length/4)),b=h>=1&&h<=j?p.slice((h-1)*4,(h-1)*4+4):[];return(0,n.jsxs)(n.Fragment,{children:[0===t.length?null:(0,n.jsxs)(g,{className:"flex-nowrap max-w-full overflow-auto",children:[(0,n.jsx)("li",{className:"shrink-0",children:(0,n.jsx)(f,{tag:"전체",isActive:"selectAll"===o.result})}),t.map(e=>(0,n.jsx)("li",{className:"shrink-0",children:(0,n.jsx)(f,{tag:e,isActive:"selectTag"===o.result&&o.value===e})},e))]}),0===b.length?(0,n.jsxs)("p",{children:["선택한 ",(0,n.jsx)("strong",{children:"태그"}),"와 ",(0,n.jsx)("strong",{children:"페이지 번호"}),"에 맞는 글이 없습니다."]}):(0,n.jsx)(d,{children:b.map(e=>(0,n.jsx)(x,{post:e},e.absoluteUrl))}),(0,n.jsx)(m,{generatePageLink:e=>"/posts?"+s("page",String(e)),activePageNumber:h,numberOfPages:j})]})}},3053:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var n=t(2530),s=t(3766);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,n.$)(r))}},3851:(e,r,t)=>{"use strict";var n=t(8739);t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})}},e=>{e.O(0,[858,742,962,552,772,358],()=>e(e.s=874)),_N_E=e.O()}]);