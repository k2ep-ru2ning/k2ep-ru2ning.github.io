<!DOCTYPE html><html lang="ko" class="__variable_fde3a9 __variable_164a00 scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/4974d0dc1d063735-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/bb3ef058b751a6ad-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/ff840cfebfb63b0c-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/images/posts/2024/toc/react-doc-toc-example.png"/><link rel="preload" as="image" href="/images/posts/2024/toc/toc-implement.webp"/><link rel="preload" as="image" href="/images/posts/2024/toc/toc-highlight-observing-headings-1.webp"/><link rel="preload" as="image" href="/images/posts/2024/toc/toc-highlight-observing-headings-2.webp"/><link rel="preload" as="image" href="/images/posts/2024/toc/toc-highlight-observing-section.webp"/><link rel="stylesheet" href="/_next/static/css/31503e2939d29c02.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/a6f22115e074b463.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-2c418b7e7def34b7.js"/><script src="/_next/static/chunks/86cc20f5-fcd1555cfdfd94c1.js" async=""></script><script src="/_next/static/chunks/879-3a86667338030209.js" async=""></script><script src="/_next/static/chunks/main-app-e4c2129efb1ad11c.js" async=""></script><script src="/_next/static/chunks/06807f6d-b52c2cc99eeb68b6.js" async=""></script><script src="/_next/static/chunks/566-ec14f674f7a91999.js" async=""></script><script src="/_next/static/chunks/480-ab6b75d0613d406f.js" async=""></script><script src="/_next/static/chunks/app/posts/contents/%5B...slug%5D/page-fc7642406f28e399.js" async=""></script><script src="/_next/static/chunks/1b7bc3a5-cf68e2152ebb5d4a.js" async=""></script><script src="/_next/static/chunks/379-723ec28b48107aac.js" async=""></script><script src="/_next/static/chunks/app/layout-013c375f1b823119.js" async=""></script><title>TOC(Table of Contents) 컴포넌트 만들기 | k2ep-ru2ning</title><meta name="description" content="글 상세 페이지에서 사용할 TOC 컴포넌트 개발 후기"/><meta name="author" content="k2ep-ru2ning"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><link rel="apple-touch-icon" href="/apple-icon.png?a4b7945e0e6b49fb" type="image/png" sizes="180x180"/><meta name="next-size-adjust"/><script>(function C(){let e=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";"dark"===(e||s)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")})();</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="font-sans bg-zinc-50 dark:bg-zinc-950 text-zinc-950 dark:text-zinc-50"><div class="px-4 min-h-dvh flex flex-col"><div class="sticky top-0 bg-zinc-50 dark:bg-zinc-950 max-w-screen-md lg:max-w-screen-lg w-full mx-auto"><header class="h-[64px] flex items-center justify-between"><div class="shrink-0"><a class="flex flex-col text-center px-2 py-1 rounded-md hover:bg-zinc-200 dark:hover:bg-zinc-700" href="/"><h1 class="font-extrabold text-xl">k2ep-ru2ning</h1></a></div><button class="hover:bg-zinc-200 dark:hover:bg-zinc-700 size-8 flex sm:hidden justify-center items-center rounded-md" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rpkq:" data-state="closed"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="3" x2="21" y1="6" y2="6"></line><line x1="3" x2="21" y1="12" y2="12"></line><line x1="3" x2="21" y1="18" y2="18"></line></svg></button><div class="hidden sm:flex gap-3 h-8"><nav class="flex gap-2"><a class="hover:bg-zinc-200 dark:hover:bg-zinc-700 flex justify-center items-center rounded-md size-8" data-state="closed" href="/"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg></a><a class="hover:bg-zinc-200 dark:hover:bg-zinc-700 flex justify-center items-center rounded-md size-8" data-state="closed" href="/posts/pages/1"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><path d="m10 13-2 2 2 2"></path><path d="m14 17 2-2-2-2"></path></svg></a><a class="hover:bg-zinc-200 dark:hover:bg-zinc-700 flex justify-center items-center rounded-md size-8" data-state="closed" href="/tags"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z"></path><path d="M6 9.01V9"></path><path d="m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"></path></svg></a></nav><div data-orientation="vertical" role="none" class="w-[1px] h-full bg-zinc-300 dark:bg-zinc-700"></div><div class="flex gap-2"><a href="https://github.com/k2ep-ru2ning/k2ep-ru2ning.github.io" target="_blank" rel="noopener noreferrer" class="hover:bg-zinc-200 dark:hover:bg-zinc-700 flex justify-center items-center rounded-md size-8" data-state="closed"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="size-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"></path></svg></a></div><div data-orientation="vertical" role="none" class="w-[1px] h-full bg-zinc-300 dark:bg-zinc-700"></div><button type="button" class="hover:bg-zinc-200 dark:hover:bg-zinc-700 flex justify-center items-center rounded-md size-8" data-state="closed"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="dark:hidden size-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="hidden dark:block size-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></button></div></header></div><main class="px-2 py-6 grow max-w-screen-md lg:max-w-screen-lg w-full mx-auto"><article class="flex flex-col gap-y-6"><header class="flex flex-col gap-y-4"><h1 class="text-3xl sm:text-4xl font-bold">TOC(Table of Contents) 컴포넌트 만들기</h1><div class="flex flex-wrap gap-3 items-center"><a class="block px-2 py-1 rounded-md bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700" href="/tags/Next.js">Next.js</a><a class="block px-2 py-1 rounded-md bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700" href="/tags/React">React</a><a class="block px-2 py-1 rounded-md bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700" href="/tags/회고">회고</a></div><time class="text-sm text-zinc-700 dark:text-zinc-300">2024.12.04<!-- --> 작성</time></header><div data-orientation="horizontal" role="none" class="w-full h-[1px] bg-zinc-300 dark:bg-zinc-700 shrink-0"></div><div class="lg:hidden"><section class="flex flex-col gap-5 p-2 rounded-md border border-zinc-300 dark:border-zinc-700"><h2 class="text-lg">목차</h2><nav><ul class="flex flex-col gap-2"><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#만들고-싶은-것"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>만들고 싶은 것</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#글-내부의-제목을-추출해서-표시하기"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>글 내부의 제목을 추출해서 표시하기</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#목차-아이템을-클릭했을-때-해당-영역으로-스크롤하는-기능-구현"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>목차 아이템을 클릭했을 때, 해당 영역으로 스크롤하는 기능 구현</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#중간-정리"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>중간 정리</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#사용자가-보고-있는-영역의-제목을-highlight-하기"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>사용자가 보고 있는 영역의 제목을 highlight 하기</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5 pl-6" href="#intersection-observer로-h-2-h-3-를-관찰하는-방법을-이용한-구현"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H3</div>Intersection Observer로 h2, h3를 관찰하는 방법을 이용한 구현</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5 pl-6" href="#문제점"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H3</div>문제점</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5 pl-6" href="#해결"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H3</div>해결</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#정리"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>정리</a></li></ul></nav></section></div><div class="lg:grid lg:grid-cols-[calc(100%-320px)_320px]"><div id="article-content" class="max-w-full prose sm:prose-lg prose-zinc dark:prose-invert"><section><h2 id="만들고-싶은-것" class="scroll-mt-20"><a class="inline-block group no-underline" href="#만들고-싶은-것">만들고 싶은 것<div class="opacity-0 group-hover:opacity-100 group-focus-visible:opacity-100 ml-1 inline-flex justify-center items-center p-0.5 sm:p-1 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-200 dark:hover:bg-zinc-700"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-3" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a></h2><p>글 내부의 제목(h2, h3)을 활용해 간단하게 <strong>글의 목차를 표시</strong>하고 싶었다. 또, <strong>사용자가 보고있는 영역의 제목을 highlight</strong>해서 현재 어떤 부분을 읽고 있는지 쉽게 알려주고 싶었다. 이러한 TOC 컴포넌트는 라이브러리의 공식문서, 블로그 등에서 널리 사용되는 컴포넌트이기도 하다.</p><p><img src="/images/posts/2024/toc/react-doc-toc-example.png" alt="toc-example"/></p><p>위의 그림은 React 공식 문서에서 사용하는 TOC인데, 위와 같은 컴포넌트를 개발하고 싶었다.</p></section>
<section><h2 id="글-내부의-제목을-추출해서-표시하기" class="scroll-mt-20"><a class="inline-block group no-underline" href="#글-내부의-제목을-추출해서-표시하기">글 내부의 제목을 추출해서 표시하기<div class="opacity-0 group-hover:opacity-100 group-focus-visible:opacity-100 ml-1 inline-flex justify-center items-center p-0.5 sm:p-1 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-200 dark:hover:bg-zinc-700"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-3" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a></h2><p>한 번에 모든 기능을 구현하기 어려울 것 같아서, 먼저 글 내부의 제목을 추출해서 표시하는 기능부터 구현하기로 했다.</p><p>먼저 생각한 방법은 <strong>웹 브라우저에서 <code>document.querySelectorAll(&quot;h2,h3&quot;)</code>를 호출</strong>해 제목을 추출하는 방법이다. 사용하는 데 문제 없는 방식이긴 하지만 브라우저에서 컴포넌트가 mount 되고 나서야 목차를 표시할 수 있다. <del>(물론 금방 표시된다.)</del></p><p>&quot;next 애플리케이션을 build 할 때 서버가 글 데이터를 다 가지고 있는데, 굳이 브라우저에서 제목을 추출해야 하나? 서버에서도 충분히 할 수 있을거 같은데&quot;라는 생각이 들었고, 서버에서 제목을 추출하는 방법을 찾던 중 <code>@vcarl/remark-headings</code>라는 remark plugin을 발견하게 되었다.</p><p><code>@vcarl/remark-headings</code> plugin은 markdown에서 <code>#</code>, <code>##</code> 등으로 시작하는 <strong>제목을 추출해주는 plugin</strong>이고, <strong>서버에서 파일형태로 저장된 글들을 읽고나서</strong> 이 plugin을 이용해 글 안의 제목 정보를 추출하도록 만들었다. 추출한 제목 정보로 목차를 화면에 표시하면 된다.</p></section>
<section><h2 id="목차-아이템을-클릭했을-때-해당-영역으로-스크롤하는-기능-구현" class="scroll-mt-20"><a class="inline-block group no-underline" href="#목차-아이템을-클릭했을-때-해당-영역으로-스크롤하는-기능-구현">목차 아이템을 클릭했을 때, 해당 영역으로 스크롤하는 기능 구현<div class="opacity-0 group-hover:opacity-100 group-focus-visible:opacity-100 ml-1 inline-flex justify-center items-center p-0.5 sm:p-1 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-200 dark:hover:bg-zinc-700"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-3" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a></h2><p>다음으로 구현해야 할 기능은 <strong>목차 아이템을 클릭했을 때, 해당 목차 아이템을 제목으로 하는 영역이 화면에 나타나도록 스크롤</strong>하는 기능이다.</p><p><code>element.scrollIntoView()</code> 메서드를 사용할 수도 있지만, 이를 위해서는 글 내부의 모든 제목을 ref로 접근할 수 있도록 별도의 코드를 작성해야 한다.</p><p>실제로 구현할 때는 <strong>URI fragment</strong>를 사용했다. <code>https://react.dev/learn/your-first-component#components-ui-building-blocks</code> 에서 <code>#components-ui-building-blocks</code> 부분을 <code>URI fragment</code>라고 한다. <code>#</code>으로 시작하는 문자열이고 리소스의 특정 부분을 식별하는데 사용한다. 리소스의 특정 부분이라함은 &#x27;문서의 특정 section&#x27;이나 &#x27;영상의 특정 position&#x27;이 될 수 있다. fragment는 서버에 URI를 요청할 때 전송하지 않고, 리소스를 불러온 후 클라이언트에서 처리한다는 특징이 있다. 또, HTML 문서에서 element의 id가 fragment가 될 수 있고, <strong>fragment가 포함된 URI를 웹 브라우저 주소창에 입력하면 브라우저가 해당 element로 스크롤한다.</strong></p><p><strong>글을 HTML로 변환할 때 h2, h3 태그에 id를 부여</strong>하고, TOC 컴포넌트에서는 <strong>해당 id fragment를 가리키는 link로 목차 아이템을 만들면</strong>, 브라우저의 기본 동작에 의해 <strong>목차 아이템(링크)을 클릭했을 때 해당 영역으로 이동하게 된다.</strong></p><p>markdown 형태의 글을 HTML로 변환하면서 생성될 h2, h3 태그에 id를 값을 기반으로 자동으로 부여하기 위해서 <code>remark-heading-id</code> plugin을 활용했다.</p></section>
<section><h2 id="중간-정리" class="scroll-mt-20"><a class="inline-block group no-underline" href="#중간-정리">중간 정리<div class="opacity-0 group-hover:opacity-100 group-focus-visible:opacity-100 ml-1 inline-flex justify-center items-center p-0.5 sm:p-1 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-200 dark:hover:bg-zinc-700"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-3" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a></h2><p>지금까지의 아이디어를 정리하면 다음과 같다.</p><ul>
<li>markdown 또는 mdx 형식의 <strong>글을 HTML로 변환할 때</strong>, <code>remark-heading-id</code> plugin을 사용해 heading의 값을 기반으로 <strong>id를 만들어 생성될 h2, h3 태그에 주입</strong>한다.</li>
<li>markdown 또는 mdx 형식의 글에 <code>@vcarl/remark-headings plugin</code>을 적용해 <strong>글 내부의 제목 정보를 모두 추출</strong>한다.</li>
<li><strong>추출한 글 내부의 제목 정보를 순회하면서 리스트 형식으로 목차 아이템을 표시</strong>한다. <strong>목차 아이템은 <code>#{id}</code>를 href로 하는 링크</strong>이다.</li>
</ul><p>추가로, <strong>스크롤이 부드럽게</strong> 되길 바란다면 스크롤 컨테이너에 <code>scroll-behavior: smooth;</code> CSS를 적용하면 된다.</p><p><img src="/images/posts/2024/toc/toc-implement.webp" alt="toc-implement"/></p><p>구현 결과는 위와 같다. 목차 아이템을 클릭했을 때 해당 영역으로 잘 이동한다.</p></section>
<section><h2 id="사용자가-보고-있는-영역의-제목을-highlight-하기" class="scroll-mt-20"><a class="inline-block group no-underline" href="#사용자가-보고-있는-영역의-제목을-highlight-하기">사용자가 보고 있는 영역의 제목을 highlight 하기<div class="opacity-0 group-hover:opacity-100 group-focus-visible:opacity-100 ml-1 inline-flex justify-center items-center p-0.5 sm:p-1 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-200 dark:hover:bg-zinc-700"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-3" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a></h2><p>마지막으로 구현하고 싶었던 기능은 사용자가 보고 있는 영역의 제목을 highlight 하는 기능이다.</p><p>화면에 표시될 <strong>h2, h3 태그의 가시성 변화를 감지</strong>하면 될 것 같아 <strong>Intersection Observer</strong>를 이용해 구현하기로 했다.</p><section><h3 id="intersection-observer로-h-2-h-3-를-관찰하는-방법을-이용한-구현" class="scroll-mt-20"><a class="inline-block group no-underline" href="#intersection-observer로-h-2-h-3-를-관찰하는-방법을-이용한-구현">Intersection Observer로 h2, h3를 관찰하는 방법을 이용한 구현<div class="opacity-0 group-hover:opacity-100 group-focus-visible:opacity-100 ml-1 inline-flex justify-center items-center p-0.5 sm:p-1 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-200 dark:hover:bg-zinc-700"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-3" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a></h3><figure data-rehype-pretty-code-figure=""><figcaption data-rehype-pretty-code-title="" data-language="tsx" data-theme="vitesse-dark vitesse-light">post-article-toc-sidebar.tsx</figcaption><pre style="--shiki-dark:#dbd7caee;--shiki-light:#393a34;--shiki-dark-bg:#121212;--shiki-light-bg:#ffffff" tabindex="0" data-language="tsx" data-theme="vitesse-dark vitesse-light"><code data-line-numbers="" data-language="tsx" data-theme="vitesse-dark vitesse-light" style="display:grid" data-line-numbers-max-digits="2"><span data-line=""><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">use client</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">import</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> useEffect</span><span style="--shiki-dark:#666666;--shiki-light:#999999">,</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> useState</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> }</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> from</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">react</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">import</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> PostArticleTOCItem</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> from</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">./post-article-toc-item</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">import</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> HorizontalSeparator</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> from</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">../../separator/horizontal-separator</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">type</span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82"> Props</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">  headings</span><span style="--shiki-dark:#666666;--shiki-light:#999999">: {</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">    type</span><span style="--shiki-dark:#666666;--shiki-light:#999999">: </span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">h2</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> | </span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">h3</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">    text</span><span style="--shiki-dark:#666666;--shiki-light:#999999">: </span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82">string</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">    id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">: </span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82">string</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  }[];</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">};</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">export</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> default</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> function</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> PostArticleTOCSidebar</span><span style="--shiki-dark:#666666;--shiki-light:#999999">({</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> headings</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> }: </span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82">Props</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">  const</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> [</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">activeHeadingIdSet</span><span style="--shiki-dark:#666666;--shiki-light:#999999">,</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> setActiveHeadingIdSet</span><span style="--shiki-dark:#666666;--shiki-light:#999999">]</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> useState</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82">Set</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82">string</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;&gt;(</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    ()</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> new</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> Set</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(),</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  );</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#80A665;--shiki-light:#59873A">  useEffect</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(()</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">    const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> headingElements</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> headings</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">map</span><span style="--shiki-dark:#666666;--shiki-light:#999999">((</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">heading</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">      document</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">querySelector</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">`</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">#article-content #</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">${</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">heading</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">id</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">}</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">`</span><span style="--shiki-dark:#666666;--shiki-light:#999999">),</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    );</span></span>
<span data-line=""> </span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">    const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> observer</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> new</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> IntersectionObserver</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      (</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">entries</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">        for</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> entry</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> of</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> entries</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">          const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> id</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> entry</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">target</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">getAttribute</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">id</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">          if</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">!</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> continue</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">          if</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">entry</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">isIntersecting</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#80A665;--shiki-light:#59873A">            setActiveHeadingIdSet</span><span style="--shiki-dark:#666666;--shiki-light:#999999">((</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">prev</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">              const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> new</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> Set</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">prev</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">add</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">              return</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">            });</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">          }</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> else</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#80A665;--shiki-light:#59873A">            setActiveHeadingIdSet</span><span style="--shiki-dark:#666666;--shiki-light:#999999">((</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">prev</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">              const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> new</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> Set</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">prev</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">delete</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">              return</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">            });</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">          }</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">        }</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      },</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#B8A965;--shiki-light:#998418">        rootMargin</span><span style="--shiki-dark:#666666;--shiki-light:#999999">:</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">-64px 0px 0px 0px</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">,</span><span style="--shiki-dark:#758575DD;--shiki-light:#A0ADA0"> // sticky header 영역 제외</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      },</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    );</span></span>
<span data-line=""> </span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">    for</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> headingElement</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> of</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> headingElements</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">      if</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">!</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">headingElement</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> continue</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">      observer</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">observe</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">headingElement</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    }</span></span>
<span data-line=""> </span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">    return</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> ()</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">      observer</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">disconnect</span><span style="--shiki-dark:#666666;--shiki-light:#999999">();</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    };</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  },</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> [</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">headings</span><span style="--shiki-dark:#666666;--shiki-light:#999999">]);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">  return</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">section</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> className</span><span style="--shiki-dark:#666666;--shiki-light:#999999">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">max-h-full rounded-md border border-zinc-300 dark:border-zinc-700 p-3 flex flex-col gap-3</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h2</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> className</span><span style="--shiki-dark:#666666;--shiki-light:#999999">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">text-lg shrink-0</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">목차</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h2</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      &lt;</span><span style="--shiki-dark:#B8A965;--shiki-light:#998418">HorizontalSeparator</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> /&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">nav</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> className</span><span style="--shiki-dark:#666666;--shiki-light:#999999">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">flex-grow overflow-auto</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">        &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">ul</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> className</span><span style="--shiki-dark:#666666;--shiki-light:#999999">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">flex flex-col gap-1</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">          {</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">headings</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">map</span><span style="--shiki-dark:#666666;--shiki-light:#999999">((</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">            &lt;</span><span style="--shiki-dark:#B8A965;--shiki-light:#998418">PostArticleTOCItem</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              key</span><span style="--shiki-dark:#666666;--shiki-light:#999999">={</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">}</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              type</span><span style="--shiki-dark:#666666;--shiki-light:#999999">={</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">type</span><span style="--shiki-dark:#666666;--shiki-light:#999999">}</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              link</span><span style="--shiki-dark:#666666;--shiki-light:#999999">={</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">`</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">#</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">${</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">id</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">}</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">`</span><span style="--shiki-dark:#666666;--shiki-light:#999999">}</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              text</span><span style="--shiki-dark:#666666;--shiki-light:#999999">={</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">text</span><span style="--shiki-dark:#666666;--shiki-light:#999999">}</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              isActive</span><span style="--shiki-dark:#666666;--shiki-light:#999999">={</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">activeHeadingIdSet</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">has</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)}</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">            /&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">          ))}</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">        &lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">ul</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      &lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">nav</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    &lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">section</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  );</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">}</span></span></code></pre></figure><p>Intersection Observer 같은 웹 브라우저가 제공하는 API를 사용할 것이므로, useEffect를 사용했다.</p><p><strong>16-18번째 줄</strong>에서 현재 사용자가 보고 있는 h2, h3 태그의 id들을 set으로 관리하는 상태, <code>activeHeadingIdSet</code>을 정의했다.</p><p><strong>21-23번째 줄</strong>에서 (Intersection Observer에 등록하기 위해) querySelector로 <code>heading.id</code>를 id 값으로 갖는 h2, h3 element들을 모두 찾는다. (처음에는 querySelectorAll로 h2, h3 태그를 모두 찾았는데, 추후 IntersectionObserver가 어느 순간 동작하지 않는 이슈가 발생했다. <del>왜 그런지 모르겠네 ㅜㅜ</del>)</p><p><strong>25-48번째 줄</strong>에서 <strong>callback 함수</strong>와 <strong>options</strong>을 인자로 넘기면서 Intersection Observer 인스턴스를 생성한다.</p><p>options에서는 관찰 영역을 설정할 수 있고, 기본적으로는 viewport가 관찰 영역이 된다. <strong>46번째 줄</strong>에서 <strong>rootMargin</strong>을 설정했는데, 관찰 영역의 margin을 설정하는 옵션이다. header가 계속 viewport에 표시되므로 header 영역을 관찰 영역에서 제외하려고 설정했다.</p><p>callback 함수는 관찰 대상의 가시성에 변경사항이 있을 때 호출된다. callback의 첫 번째 인자로, <strong>가시성에 변경사항이 있는 관찰 대상들만 요소로 하는 배열</strong>이 들어온다.</p><p><strong>27번째 줄</strong>에서 가시성에 변화가 있는 모든 element를 순회하면서, 해당 element의 id 속성을 조회하고(<strong>28-29번째 줄</strong>), viewport에 들어온 element의 경우(<code>isIntersecting</code>이 <code>true</code>인 경우, <strong>30번째 줄</strong>)엔 <code>activeHeadingIdSet</code>에 추가하고, viewport에서 나간 element의 경우(<strong>36번째 줄</strong>) <code>activeHeadingIdSet</code>에서 제거한다. <strong>즉 h2, h3가 viewport에 들어오면 <code>activeHeadingIdSet</code>에 추가하고, h2, h3가 viewport에서 나가게 되면 <code>activeHeadingIdSet</code>에서 제거했다.</strong></p><p><strong>50-53번째 줄</strong>에서 Intersection Observer 인스턴스에 앞서 찾은 h2, h3 element들을 모두 관찰 대상으로 등록한다.</p><p><strong>55-57번째 줄</strong>의 clean up 함수에서 등록한 관찰 대상을 모두 해제한다.</p><p><strong>72번째 줄</strong>에서는 현재 viewport에 들어온 h2, h3의 id들을 담고 있는 상태, <code>activeHeadingIdSet</code>을 활용해 해당 목차 아이템의 활성화 상태를 결정했다.</p><p><img src="/images/posts/2024/toc/toc-highlight-observing-headings-1.webp" alt="observing-headings"/></p><p>구현 결과 잘 동작하는 것처럼 보인다. (여러개의 h2, h3가 동시에 viewport에 들어오면 모두 highlight 되도록 구현했다.)</p></section><section><h3 id="문제점" class="scroll-mt-20"><a class="inline-block group no-underline" href="#문제점">문제점<div class="opacity-0 group-hover:opacity-100 group-focus-visible:opacity-100 ml-1 inline-flex justify-center items-center p-0.5 sm:p-1 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-200 dark:hover:bg-zinc-700"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-3" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a></h3><p><img src="/images/posts/2024/toc/toc-highlight-observing-headings-2.webp" alt="observing-headings-bugs"/></p><p>위 그림에서 &quot;결과&quot; -&gt; &quot;클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결&quot; <strong>영역</strong>으로 스크롤을 옮겼음에도, TOC 컴포넌트에서 &quot;클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결&quot; 목차 아이템이 highlight 되지 않았다.</p><p>원인은 생각보다 간단한데, &quot;클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결&quot; 제목이 viewport에 나타나지 않았기 때문이다. 위에서 구현할 때 Intersection Observer로 h2, h3 제목을 관찰했으므로 제목이 viewport에 나타나지 않으면 TOC 컴포넌트는 반응하지 않는다.</p></section><section><h3 id="해결" class="scroll-mt-20"><a class="inline-block group no-underline" href="#해결">해결<div class="opacity-0 group-hover:opacity-100 group-focus-visible:opacity-100 ml-1 inline-flex justify-center items-center p-0.5 sm:p-1 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-200 dark:hover:bg-zinc-700"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-3" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a></h3><p><strong>제목을 관찰하는 게 아니라 제목을 포함한 영역을 관찰해야 겠다</strong>는 생각이 들었고, h2, h3를 div나 section 같은 태그로 감싸고 그 태그를 관찰하도록 만들면 될 것 같았다.</p><p>다행히 <code>remark-sectionize</code> plugin을 이용하면 markdown/mdx에서 HTML로 글을 변환하면서 h2, h3를 감싸는 section을 쉽게 주입할 수 있었다.</p><figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#dbd7caee;--shiki-light:#393a34;--shiki-dark-bg:#121212;--shiki-light-bg:#ffffff" tabindex="0" data-language="md" data-theme="vitesse-dark vitesse-light"><code data-language="md" data-theme="vitesse-dark vitesse-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999;--shiki-dark-font-weight:bold;--shiki-light-font-weight:bold">##</span><span style="--shiki-dark:#4D9375;--shiki-light:#1C6B48;--shiki-dark-font-weight:bold;--shiki-light-font-weight:bold"> heading2</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">This is heading2 content</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999;--shiki-dark-font-weight:bold;--shiki-light-font-weight:bold">###</span><span style="--shiki-dark:#4D9375;--shiki-light:#1C6B48;--shiki-dark-font-weight:bold;--shiki-light-font-weight:bold"> heading3 - 1</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">This is heading3 - 1 content</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999;--shiki-dark-font-weight:bold;--shiki-light-font-weight:bold">###</span><span style="--shiki-dark:#4D9375;--shiki-light:#1C6B48;--shiki-dark-font-weight:bold;--shiki-light-font-weight:bold"> heading3 - 2</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">This is heading3 - 2 content</span></span></code></pre></figure><p>위의 markdown은 HTML로 변환하면</p><figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#dbd7caee;--shiki-light:#393a34;--shiki-dark-bg:#121212;--shiki-light-bg:#ffffff" tabindex="0" data-language="html" data-theme="vitesse-dark vitesse-light"><code data-language="html" data-theme="vitesse-dark vitesse-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h2</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">heading2</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h2</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">This is heading2 content</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h3</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">heading3 - 1</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h3</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">This is heading3 - 1 content</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h3</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">heading3 - 2</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h3</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">This is heading3 - 2 content</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span></code></pre></figure><p>원래는 위의 형태로 변환되는데, <code>remark-sectionize</code> plugin을 사용하면</p><figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#dbd7caee;--shiki-light:#393a34;--shiki-dark-bg:#121212;--shiki-light-bg:#ffffff" tabindex="0" data-language="html" data-theme="vitesse-dark vitesse-light"><code data-language="html" data-theme="vitesse-dark vitesse-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">section</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h2</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">heading2</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h2</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">This is heading2 content</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">section</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h3</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">heading3 - 1</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h3</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">This is heading3 - 1 content</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  &lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">section</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">section</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h3</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">heading3 - 2</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h3</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">This is heading3 - 2 content</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">p</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  &lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">section</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">section</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span></code></pre></figure><p>위의 형태로 변환된다. h2, h3를 감싸는 section 태그가 생성되었다.</p><p>그리고 이젠 h2, h3 대신 section을 관찰할 것이다. 다음과 같이 코드를 수정했다.</p><figure data-rehype-pretty-code-figure=""><figcaption data-rehype-pretty-code-title="" data-language="tsx" data-theme="vitesse-dark vitesse-light">post-article-toc-sidebar.tsx</figcaption><pre style="--shiki-dark:#dbd7caee;--shiki-light:#393a34;--shiki-dark-bg:#121212;--shiki-light-bg:#ffffff" tabindex="0" data-language="tsx" data-theme="vitesse-dark vitesse-light"><code data-line-numbers="" data-language="tsx" data-theme="vitesse-dark vitesse-light" style="display:grid" data-line-numbers-max-digits="2"><span data-line=""><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">use client</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">import</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> useEffect</span><span style="--shiki-dark:#666666;--shiki-light:#999999">,</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> useState</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> }</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> from</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">react</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">import</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> PostArticleTOCItem</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> from</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">./post-article-toc-item</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">import</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> HorizontalSeparator</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> from</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">../../separator/horizontal-separator</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">type</span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82"> Props</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">  headings</span><span style="--shiki-dark:#666666;--shiki-light:#999999">: {</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">    type</span><span style="--shiki-dark:#666666;--shiki-light:#999999">: </span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">h2</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> | </span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">h3</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">    text</span><span style="--shiki-dark:#666666;--shiki-light:#999999">: </span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82">string</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">    id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">: </span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82">string</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  }[];</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">};</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">export</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> default</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> function</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> PostArticleTOCSidebar</span><span style="--shiki-dark:#666666;--shiki-light:#999999">({</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> headings</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> }: </span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82">Props</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">  const</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> [</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">activeHeadingIdSet</span><span style="--shiki-dark:#666666;--shiki-light:#999999">,</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> setActiveHeadingIdSet</span><span style="--shiki-dark:#666666;--shiki-light:#999999">]</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> useState</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82">Set</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#2E8F82">string</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;&gt;(</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    ()</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> new</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> Set</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(),</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  );</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#80A665;--shiki-light:#59873A">  useEffect</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(()</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">    const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> sectionElements</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> document</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">querySelectorAll</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">      &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">#article-content section</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">,</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    );</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">    const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> observer</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> new</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> IntersectionObserver</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      (</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">entries</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">        for</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> entry</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> of</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> entries</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">          const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> heading</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> entry</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">target</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">querySelector</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">h2,h3</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">          if</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">!</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">heading</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> continue</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">          const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> id</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> heading</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">getAttribute</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">id</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">          if</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">!</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> continue</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">          if</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">entry</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">isIntersecting</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line=""><span style="--shiki-dark:#80A665;--shiki-light:#59873A">            setActiveHeadingIdSet</span><span style="--shiki-dark:#666666;--shiki-light:#999999">((</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">prev</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">              const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> new</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> Set</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">prev</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">add</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">              return</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">            });</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">          }</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F"> else</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line=""><span style="--shiki-dark:#80A665;--shiki-light:#59873A">            setActiveHeadingIdSet</span><span style="--shiki-dark:#666666;--shiki-light:#999999">((</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">prev</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line=""><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959">              const</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =</span><span style="--shiki-dark:#CB7676;--shiki-light:#AB5959"> new</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A"> Set</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">prev</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">delete</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">);</span></span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">              return</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> nxt</span><span style="--shiki-dark:#666666;--shiki-light:#999999">;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">            });</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">          }</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">        }</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      },</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      {</span></span>
<span data-line=""><span style="--shiki-dark:#B8A965;--shiki-light:#998418">        rootMargin</span><span style="--shiki-dark:#666666;--shiki-light:#999999">:</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">-64px 0px 0px 0px</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">,</span><span style="--shiki-dark:#758575DD;--shiki-light:#A0ADA0"> // sticky header 영역 제외</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      },</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    );</span></span>
<span data-line=""> </span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">    sectionElements</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">forEach</span><span style="--shiki-dark:#666666;--shiki-light:#999999">((</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">sectionElement</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">      observer</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">observe</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">sectionElement</span><span style="--shiki-dark:#666666;--shiki-light:#999999">),</span></span>
<span data-line="" data-highlighted-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    );</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">    return</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> ()</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> {</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">      observer</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">disconnect</span><span style="--shiki-dark:#666666;--shiki-light:#999999">();</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    };</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  },</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> []);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">  return</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">section</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> className</span><span style="--shiki-dark:#666666;--shiki-light:#999999">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">max-h-full rounded-md border border-zinc-300 dark:border-zinc-700 p-3 flex flex-col gap-3</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h2</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> className</span><span style="--shiki-dark:#666666;--shiki-light:#999999">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">text-lg shrink-0</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#393A34">목차</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">h2</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      &lt;</span><span style="--shiki-dark:#B8A965;--shiki-light:#998418">HorizontalSeparator</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> /&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">nav</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> className</span><span style="--shiki-dark:#666666;--shiki-light:#999999">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">flex-grow overflow-auto</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">        &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">ul</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48"> className</span><span style="--shiki-dark:#666666;--shiki-light:#999999">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">flex flex-col gap-1</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">          {</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">headings</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">map</span><span style="--shiki-dark:#666666;--shiki-light:#999999">((</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#999999"> (</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">            &lt;</span><span style="--shiki-dark:#B8A965;--shiki-light:#998418">PostArticleTOCItem</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              key</span><span style="--shiki-dark:#666666;--shiki-light:#999999">={</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">}</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              type</span><span style="--shiki-dark:#666666;--shiki-light:#999999">={</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">type</span><span style="--shiki-dark:#666666;--shiki-light:#999999">}</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              link</span><span style="--shiki-dark:#666666;--shiki-light:#999999">={</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">`</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">#</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">${</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#C98A7D;--shiki-light:#B56959">id</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">}</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#B5695977">`</span><span style="--shiki-dark:#666666;--shiki-light:#999999">}</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              text</span><span style="--shiki-dark:#666666;--shiki-light:#999999">={</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">text</span><span style="--shiki-dark:#666666;--shiki-light:#999999">}</span></span>
<span data-line=""><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">              isActive</span><span style="--shiki-dark:#666666;--shiki-light:#999999">={</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">activeHeadingIdSet</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#80A665;--shiki-light:#59873A">has</span><span style="--shiki-dark:#666666;--shiki-light:#999999">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">item</span><span style="--shiki-dark:#666666;--shiki-light:#999999">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#B07D48">id</span><span style="--shiki-dark:#666666;--shiki-light:#999999">)}</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">            /&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">          ))}</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">        &lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">ul</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">      &lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">nav</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">    &lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#1E754F">section</span><span style="--shiki-dark:#666666;--shiki-light:#999999">&gt;</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">  );</span></span>
<span data-line=""><span style="--shiki-dark:#666666;--shiki-light:#999999">}</span></span></code></pre></figure><p><code>headings</code> prop이 가지고 있는 id 값을 이용해 id 속성을 갖는 h2, h3를 조회하는 대신, <strong>21-23번째 줄</strong>에서 section들을 조회했다.</p><p>그리고 <strong>52-54번째 줄</strong>에서 이 section들을 Intersection Observer의 관찰 대상으로 등록했다.</p><p>callback 내부에서는 <code>entry</code>가 더이상 h2, h3 element가 아니라 section element이기 때문에 자식 h2, h3 element를 찾는 과정이 추가되었다. (<strong>28-29번째 줄</strong>)</p><p><img src="/images/posts/2024/toc/toc-highlight-observing-section.webp" alt="observing-sections"/></p><p>이제 &quot;결과&quot; -&gt; &quot;클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결&quot; 영역으로 스크롤을 옮기면, 비록 &quot;클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결&quot;이라는 <strong>제목이 viewport에 없어도, 그 제목을 포함하는 영역이 viewport에 나타나면</strong> TOC에서 &quot;클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결&quot; <strong>목차 아이템을 highlight 한다.</strong></p></section></section>
<section><h2 id="정리" class="scroll-mt-20"><a class="inline-block group no-underline" href="#정리">정리<div class="opacity-0 group-hover:opacity-100 group-focus-visible:opacity-100 ml-1 inline-flex justify-center items-center p-0.5 sm:p-1 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-200 dark:hover:bg-zinc-700"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-3" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></a></h2><p>개인 웹 사이트를 개발하면서 글 관련 기능으로 TOC 기능을 꼭 구현하고 싶었다. 글 전체의 흐름을 알려주고 글 내부의 여기 저기를 편하게 옮겨 다닐 수 있어서 유용할 것 같았다.</p><p>쉽게 만들 수 있을 것 같았는데 구현하다보니 신경써야 할 부분이 많았다.</p><p>서버에서 글들을 읽어들이고 HTML로 변환할 때, remark 플러그인을 활용해 h2, h3 관련 데이터를 미리 추출하고 이를 이용해 TOC 컴포넌트의 목차 아이템들을 표시했다.</p><p>또, 글들을 HTML로 변환할 때 h2, h3 태그에 id 속성을 주입하고(값을 기반으로 자동 생성, remark plugin 활용) 목차 아이템을 해당 h2, h3를 가리키는 링크로 만들어(URI fragment 활용) 목차 아이템을 클릭했을 때 해당 영역으로 스크롤하는 기능을 구현했다.</p><p>사용자가 현재 보고 있는 부분의 목차 아이템을 highlight 하는 기능을 만들기 위해서 viewport의 h2, h3의 가시성을 관찰하는 Intersection Observer를 활용하는 방법을 사용했었다. 잘 동작하는 것 같았지만 h2, h3의 가시성만 관찰했기 때문에 viewport에 h2, h3가 없는 경우 사용자가 보고 있는 영역의 제목을 highlight 하지 못했다.</p><p>글을 HTML로 변환할 때 h2, h3를 감싸는 section을 주입했고, Intersection Observer가 h2, h3 대신 이 section을 관찰하도록 구현해서 비록 viewport에 h2, h3 태그가 없더라도 사용자가 보고 있는 영역을 판단할 수 있게 고쳤다.</p></section></div><div class="pl-5 hidden lg:block"><div class="sticky top-20 h-full max-h-[calc(100dvh-144px-3rem)] overflow-hidden"><section class="max-h-full rounded-md border border-zinc-300 dark:border-zinc-700 p-3 flex flex-col gap-3"><div class="shrink-0 flex justify-between items-center"><h2 class="text-lg">목차</h2><button type="button" class="rounded-md border border-zinc-300 dark:border-zinc-700 p-1 hover:bg-zinc-200 dark:hover:bg-zinc-700"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="size-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M5 3h14"></path><path d="m18 13-6-6-6 6"></path><path d="M12 7v14"></path></svg></button></div><div data-orientation="horizontal" role="none" class="w-full h-[1px] bg-zinc-300 dark:bg-zinc-700 shrink-0"></div><nav class="flex-grow overflow-auto"><ul class="flex flex-col gap-1"><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#만들고-싶은-것"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>만들고 싶은 것</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#글-내부의-제목을-추출해서-표시하기"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>글 내부의 제목을 추출해서 표시하기</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#목차-아이템을-클릭했을-때-해당-영역으로-스크롤하는-기능-구현"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>목차 아이템을 클릭했을 때, 해당 영역으로 스크롤하는 기능 구현</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#중간-정리"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>중간 정리</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#사용자가-보고-있는-영역의-제목을-highlight-하기"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>사용자가 보고 있는 영역의 제목을 highlight 하기</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5 pl-6" href="#intersection-observer로-h-2-h-3-를-관찰하는-방법을-이용한-구현"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H3</div>Intersection Observer로 h2, h3를 관찰하는 방법을 이용한 구현</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5 pl-6" href="#문제점"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H3</div>문제점</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5 pl-6" href="#해결"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H3</div>해결</a></li><li><a class="flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5" href="#정리"><div class="p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700">H2</div>정리</a></li></ul></nav></section></div></div></div></article></main><div class="max-w-screen-md lg:max-w-screen-lg w-full mx-auto"><div data-orientation="horizontal" role="none" class="w-full h-[1px] bg-zinc-300 dark:bg-zinc-700 shrink-0"></div><footer class="h-[80px] flex flex-col justify-center items-center"><p>© 2024 k2ep-ru2ning</p></footer></div></div><script src="/_next/static/chunks/webpack-2c418b7e7def34b7.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/4974d0dc1d063735-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/bb3ef058b751a6ad-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/ff840cfebfb63b0c-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/css/31503e2939d29c02.css\",\"style\"]\n5:HL[\"/_next/static/css/a6f22115e074b463.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"6:I[9965,[],\"\"]\n9:I[3614,[],\"\"]\nb:I[4738,[],\"\"]\nc:I[6566,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b75d0613d406f.js\",\"487\",\"static/chunks/app/posts/contents/%5B...slug%5D/page-fc7642406f28e399.js\"],\"\"]\nd:I[607,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"679\",\"static/chunks/1b7bc3a5-cf68e2152ebb5d4a.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b75d0613d406f.js\",\"379\",\"static/chunks/379-723ec28b48107aac.js\",\"185\",\"static/chunks/app/layout-013c375f1b823119.js\"],\"default\"]\ne:I[4696,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"679\",\"static/chunks/1b7bc3a5-cf68e2152ebb5d4a.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b75d0613d406f.js\",\"379\",\"static/chunks/379-723ec28b48107aac.js\",\"185\",\"static/chunks/app/layout-013c375f1b823119.js\"],\"Provider\"]\nf:I[1871,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"679\",\"static/chunks/1b7bc3a5-cf68e2152ebb5d4a.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b75d0613d406f.js\",\"379\",\"static/chunks/379-723ec28b48107aac.js\",\"185\",\"static/chunks/app/layout-013c375f1b823119.js\"],\"default\"]\n10:I[4696,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"679\",\"static/chunks/1b7bc3a5-cf68e2152ebb5d4a.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b75d0613d406f.js\",\"379\",\"static/chunks/379-723ec28b48107aac.js\",\"185\",\"static/chunks/app/layout-013c375f1b823119.js\"],\"Root\"]\n11:I[4696,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"679\",\"static/chunks/1b7bc3a5-cf68e2152ebb5d4a.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b75d0613d406f.js\",\"379\",\"static/chunks/379-723ec28b48107aac.js\",\"185\",\"static/chunks/app/layout-013c375f1b823119.js\"],\"Trigger\"]\n12:I[4696,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"679\",\"static/chunks/1b7bc3a5-cf68e2152ebb5d4a.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b"])</script><script>self.__next_f.push([1,"75d0613d406f.js\",\"379\",\"static/chunks/379-723ec28b48107aac.js\",\"185\",\"static/chunks/app/layout-013c375f1b823119.js\"],\"Portal\"]\n13:I[4696,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"679\",\"static/chunks/1b7bc3a5-cf68e2152ebb5d4a.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b75d0613d406f.js\",\"379\",\"static/chunks/379-723ec28b48107aac.js\",\"185\",\"static/chunks/app/layout-013c375f1b823119.js\"],\"Content\"]\n14:I[4696,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"679\",\"static/chunks/1b7bc3a5-cf68e2152ebb5d4a.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b75d0613d406f.js\",\"379\",\"static/chunks/379-723ec28b48107aac.js\",\"185\",\"static/chunks/app/layout-013c375f1b823119.js\"],\"Arrow\"]\n15:I[6639,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"679\",\"static/chunks/1b7bc3a5-cf68e2152ebb5d4a.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b75d0613d406f.js\",\"379\",\"static/chunks/379-723ec28b48107aac.js\",\"185\",\"static/chunks/app/layout-013c375f1b823119.js\"],\"default\"]\n17:I[2706,[],\"\"]\na:[\"slug\",\"2024/toc\",\"c\"]\n18:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L6\",null,{\"buildId\":\"wJTdPf1YvOr-Hi-1alhXm\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"posts\",\"contents\",\"2024\",\"toc\"],\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[\"contents\",{\"children\":[[\"slug\",\"2024/toc\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"2024\\\",\\\"toc\\\"]}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[\"contents\",{\"children\":[[\"slug\",\"2024/toc\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L7\",\"$L8\",null],null],null]},[null,[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"contents\",\"children\",\"$a\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"contents\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/31503e2939d29c02.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/a6f22115e074b463.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"className\":\"__variable_fde3a9 __variable_164a00 scroll-smooth\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"(function C(){let e=localStorage.getItem(\\\"theme\\\"),s=window.matchMedia(\\\"(prefers-color-scheme: dark)\\\").matches?\\\"dark\\\":\\\"light\\\";\\\"dark\\\"===(e||s)?document.documentElement.classList.add(\\\"dark\\\"):document.documentElement.classList.remove(\\\"dark\\\")})();\"}}]}],[\"$\",\"body\",null,{\"className\":\"font-sans bg-zinc-50 dark:bg-zinc-950 text-zinc-950 dark:text-zinc-50\",\"children\":[\"$\",\"div\",null,{\"className\":\"px-4 min-h-dvh flex flex-col\",\"children\":[[\"$\",\"div\",null,{\"className\":\"sticky top-0 bg-zinc-50 dark:bg-zinc-950 max-w-screen-md lg:max-w-screen-lg w-full mx-auto\",\"children\":[\"$\",\"header\",null,{\"className\":\"h-[64px] flex items-center justify-between\",\"children\":[[\"$\",\"div\",null,{\"className\":\"shrink-0\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/\",\"className\":\"flex flex-col text-center px-2 py-1 rounded-md hover:bg-zinc-200 dark:hover:bg-zinc-700\",\"children\":[\"$\",\"h1\",null,{\"className\":\"font-extrabold text-xl\",\"children\":\"k2ep-ru2ning\"}]}]}],[[\"$\",\"$Ld\",null,{}],[\"$\",\"$Le\",null,{\"delayDuration\":400,\"skipDelayDuration\":100,\"children\":[\"$\",\"div\",null,{\"className\":\"hidden sm:flex gap-3 h-8\",\"children\":[[\"$\",\"$Lf\",null,{}],[\"$\",\"div\",null,{\"data-orientation\":\"vertical\",\"role\":\"none\",\"className\":\"w-[1px] h-full bg-zinc-300 dark:bg-zinc-700\"}],[\"$\",\"div\",null,{\"className\":\"flex gap-2\",\"children\":[[\"$\",\"$L10\",null,{\"children\":[[\"$\",\"$L11\",null,{\"asChild\":true,\"className\":\"hover:bg-zinc-200 dark:hover:bg-zinc-700 flex justify-center items-center rounded-md\",\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/k2ep-ru2ning/k2ep-ru2ning.github.io\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"size-8\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 16 16\",\"className\":\"size-6\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"$L12\",null,{\"children\":[\"$\",\"$L13\",null,{\"side\":\"bottom\",\"sideOffset\":8,\"className\":\"text-sm bg-zinc-200 dark:bg-zinc-700 py-1 px-2 rounded-md\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex gap-1 items-center\",\"children\":[\"Github 저장소\",[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"none\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"size-4\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\",\"children\":[]}],[\"$\",\"polyline\",\"1\",{\"points\":\"15 3 21 3 21 9\",\"children\":[]}],[\"$\",\"line\",\"2\",{\"x1\":\"10\",\"x2\":\"21\",\"y1\":\"14\",\"y2\":\"3\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}]]}],[\"$\",\"$L14\",null,{\"className\":\"fill-zinc-200 dark:fill-zinc-700\"}]]}]}]]}]]}],[\"$\",\"div\",null,{\"data-orientation\":\"vertical\",\"role\":\"none\",\"className\":\"w-[1px] h-full bg-zinc-300 dark:bg-zinc-700\"}],[\"$\",\"$L15\",null,{}]]}]}]]]}]}],[\"$\",\"main\",null,{\"className\":\"px-2 py-6 grow max-w-screen-md lg:max-w-screen-lg w-full mx-auto\",\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"py-14 flex flex-col gap-y-3\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"text-4xl text-indigo-500 font-bold\",\"children\":\"404\"}],[\"$\",\"p\",null,{\"className\":\"text-3xl font-bold\",\"children\":\"페이지를 찾을 수 없어요\"}],[\"$\",\"p\",null,{\"className\":\"text-xl\",\"children\":\"주소를 확인해주세요\"}],[\"$\",\"$Lc\",null,{\"href\":\"/\",\"className\":\"flex items-center gap-1.5 p-1 rounded-md self-start hover:bg-zinc-200 dark:hover:bg-zinc-700\",\"children\":[\"Home으로 이동\",[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"none\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"size-5\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\",\"children\":[]}],[\"$\",\"polyline\",\"1\",{\"points\":\"9 22 9 12 15 12 15 22\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}]]}]]}],\"notFoundStyles\":[]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-screen-md lg:max-w-screen-lg w-full mx-auto\",\"children\":[[\"$\",\"div\",null,{\"data-orientation\":\"horizontal\",\"role\":\"none\",\"className\":\"w-full h-[1px] bg-zinc-300 dark:bg-zinc-700 shrink-0\"}],[\"$\",\"footer\",null,{\"className\":\"h-[80px] flex flex-col justify-center items-center\",\"children\":[\"$\",\"p\",null,{\"children\":\"© 2024 k2ep-ru2ning\"}]}]]}]]}]}]]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L16\"],\"globalErrorComponent\":\"$17\",\"missingSlots\":\"$W18\"}]\n"])</script><script>self.__next_f.push([1,"19:I[6456,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b75d0613d406f.js\",\"487\",\"static/chunks/app/posts/contents/%5B...slug%5D/page-fc7642406f28e399.js\"],\"default\"]\n1c:I[1504,[\"773\",\"static/chunks/06807f6d-b52c2cc99eeb68b6.js\",\"566\",\"static/chunks/566-ec14f674f7a91999.js\",\"480\",\"static/chunks/480-ab6b75d0613d406f.js\",\"487\",\"static/chunks/app/posts/contents/%5B...slug%5D/page-fc7642406f28e399.js\"],\"default\"]\n1a:T412f,"])</script><script>self.__next_f.push([1,"\n## 만들고 싶은 것\n\n글 내부의 제목(h2, h3)을 활용해 간단하게 **글의 목차를 표시**하고 싶었다. 또, **사용자가 보고있는 영역의 제목을 highlight**해서 현재 어떤 부분을 읽고 있는지 쉽게 알려주고 싶었다. 이러한 TOC 컴포넌트는 라이브러리의 공식문서, 블로그 등에서 널리 사용되는 컴포넌트이기도 하다.\n\n![toc-example](/images/posts/2024/toc/react-doc-toc-example.png)\n\n위의 그림은 React 공식 문서에서 사용하는 TOC인데, 위와 같은 컴포넌트를 개발하고 싶었다.\n\n## 글 내부의 제목을 추출해서 표시하기\n\n한 번에 모든 기능을 구현하기 어려울 것 같아서, 먼저 글 내부의 제목을 추출해서 표시하는 기능부터 구현하기로 했다.\n\n먼저 생각한 방법은 **웹 브라우저에서 `document.querySelectorAll(\"h2,h3\")`를 호출**해 제목을 추출하는 방법이다. 사용하는 데 문제 없는 방식이긴 하지만 브라우저에서 컴포넌트가 mount 되고 나서야 목차를 표시할 수 있다. ~~(물론 금방 표시된다.)~~\n\n\"next 애플리케이션을 build 할 때 서버가 글 데이터를 다 가지고 있는데, 굳이 브라우저에서 제목을 추출해야 하나? 서버에서도 충분히 할 수 있을거 같은데\"라는 생각이 들었고, 서버에서 제목을 추출하는 방법을 찾던 중 `@vcarl/remark-headings`라는 remark plugin을 발견하게 되었다.\n\n`@vcarl/remark-headings` plugin은 markdown에서 `#`, `##` 등으로 시작하는 **제목을 추출해주는 plugin**이고, **서버에서 파일형태로 저장된 글들을 읽고나서** 이 plugin을 이용해 글 안의 제목 정보를 추출하도록 만들었다. 추출한 제목 정보로 목차를 화면에 표시하면 된다.\n\n## 목차 아이템을 클릭했을 때, 해당 영역으로 스크롤하는 기능 구현\n\n다음으로 구현해야 할 기능은 **목차 아이템을 클릭했을 때, 해당 목차 아이템을 제목으로 하는 영역이 화면에 나타나도록 스크롤**하는 기능이다.\n\n`element.scrollIntoView()` 메서드를 사용할 수도 있지만, 이를 위해서는 글 내부의 모든 제목을 ref로 접근할 수 있도록 별도의 코드를 작성해야 한다.\n\n실제로 구현할 때는 **URI fragment**를 사용했다. `https://react.dev/learn/your-first-component#components-ui-building-blocks` 에서 `#components-ui-building-blocks` 부분을 `URI fragment`라고 한다. `#`으로 시작하는 문자열이고 리소스의 특정 부분을 식별하는데 사용한다. 리소스의 특정 부분이라함은 '문서의 특정 section'이나 '영상의 특정 position'이 될 수 있다. fragment는 서버에 URI를 요청할 때 전송하지 않고, 리소스를 불러온 후 클라이언트에서 처리한다는 특징이 있다. 또, HTML 문서에서 element의 id가 fragment가 될 수 있고, **fragment가 포함된 URI를 웹 브라우저 주소창에 입력하면 브라우저가 해당 element로 스크롤한다.**\n\n**글을 HTML로 변환할 때 h2, h3 태그에 id를 부여**하고, TOC 컴포넌트에서는 **해당 id fragment를 가리키는 link로 목차 아이템을 만들면**, 브라우저의 기본 동작에 의해 **목차 아이템(링크)을 클릭했을 때 해당 영역으로 이동하게 된다.**\n\nmarkdown 형태의 글을 HTML로 변환하면서 생성될 h2, h3 태그에 id를 값을 기반으로 자동으로 부여하기 위해서 `remark-heading-id` plugin을 활용했다.\n\n## 중간 정리\n\n지금까지의 아이디어를 정리하면 다음과 같다.\n\n- markdown 또는 mdx 형식의 **글을 HTML로 변환할 때**, `remark-heading-id` plugin을 사용해 heading의 값을 기반으로 **id를 만들어 생성될 h2, h3 태그에 주입**한다.\n- markdown 또는 mdx 형식의 글에 `@vcarl/remark-headings plugin`을 적용해 **글 내부의 제목 정보를 모두 추출**한다.\n- **추출한 글 내부의 제목 정보를 순회하면서 리스트 형식으로 목차 아이템을 표시**한다. **목차 아이템은 `#{id}`를 href로 하는 링크**이다.\n\n추가로, **스크롤이 부드럽게** 되길 바란다면 스크롤 컨테이너에 `scroll-behavior: smooth;` CSS를 적용하면 된다.\n\n![toc-implement](/images/posts/2024/toc/toc-implement.webp)\n\n구현 결과는 위와 같다. 목차 아이템을 클릭했을 때 해당 영역으로 잘 이동한다.\n\n## 사용자가 보고 있는 영역의 제목을 highlight 하기\n\n마지막으로 구현하고 싶었던 기능은 사용자가 보고 있는 영역의 제목을 highlight 하는 기능이다.\n\n화면에 표시될 **h2, h3 태그의 가시성 변화를 감지**하면 될 것 같아 **Intersection Observer**를 이용해 구현하기로 했다.\n\n### Intersection Observer로 h2, h3를 관찰하는 방법을 이용한 구현\n\n```tsx title=\"post-article-toc-sidebar.tsx\" showLineNumbers {16-18,21-23,25-48,50-53,55-57,72}\n\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport PostArticleTOCItem from \"./post-article-toc-item\";\nimport HorizontalSeparator from \"../../separator/horizontal-separator\";\n\ntype Props = {\n  headings: {\n    type: \"h2\" | \"h3\";\n    text: string;\n    id: string;\n  }[];\n};\n\nexport default function PostArticleTOCSidebar({ headings }: Props) {\n  const [activeHeadingIdSet, setActiveHeadingIdSet] = useState\u003cSet\u003cstring\u003e\u003e(\n    () =\u003e new Set(),\n  );\n\n  useEffect(() =\u003e {\n    const headingElements = headings.map((heading) =\u003e\n      document.querySelector(`#article-content #${heading.id}`),\n    );\n\n    const observer = new IntersectionObserver(\n      (entries) =\u003e {\n        for (const entry of entries) {\n          const id = entry.target.getAttribute(\"id\");\n          if (!id) continue;\n          if (entry.isIntersecting) {\n            setActiveHeadingIdSet((prev) =\u003e {\n              const nxt = new Set(prev);\n              nxt.add(id);\n              return nxt;\n            });\n          } else {\n            setActiveHeadingIdSet((prev) =\u003e {\n              const nxt = new Set(prev);\n              nxt.delete(id);\n              return nxt;\n            });\n          }\n        }\n      },\n      {\n        rootMargin: \"-64px 0px 0px 0px\", // sticky header 영역 제외\n      },\n    );\n\n    for (const headingElement of headingElements) {\n      if (!headingElement) continue;\n      observer.observe(headingElement);\n    }\n\n    return () =\u003e {\n      observer.disconnect();\n    };\n  }, [headings]);\n\n  return (\n    \u003csection className=\"max-h-full rounded-md border border-zinc-300 dark:border-zinc-700 p-3 flex flex-col gap-3\"\u003e\n      \u003ch2 className=\"text-lg shrink-0\"\u003e목차\u003c/h2\u003e\n      \u003cHorizontalSeparator /\u003e\n      \u003cnav className=\"flex-grow overflow-auto\"\u003e\n        \u003cul className=\"flex flex-col gap-1\"\u003e\n          {headings.map((item) =\u003e (\n            \u003cPostArticleTOCItem\n              key={item.id}\n              type={item.type}\n              link={`#${item.id}`}\n              text={item.text}\n              isActive={activeHeadingIdSet.has(item.id)}\n            /\u003e\n          ))}\n        \u003c/ul\u003e\n      \u003c/nav\u003e\n    \u003c/section\u003e\n  );\n}\n```\n\nIntersection Observer 같은 웹 브라우저가 제공하는 API를 사용할 것이므로, useEffect를 사용했다.\n\n**16-18번째 줄**에서 현재 사용자가 보고 있는 h2, h3 태그의 id들을 set으로 관리하는 상태, `activeHeadingIdSet`을 정의했다.\n\n**21-23번째 줄**에서 (Intersection Observer에 등록하기 위해) querySelector로 `heading.id`를 id 값으로 갖는 h2, h3 element들을 모두 찾는다. (처음에는 querySelectorAll로 h2, h3 태그를 모두 찾았는데, 추후 IntersectionObserver가 어느 순간 동작하지 않는 이슈가 발생했다. ~~왜 그런지 모르겠네 ㅜㅜ~~)\n\n**25-48번째 줄**에서 **callback 함수**와 **options**을 인자로 넘기면서 Intersection Observer 인스턴스를 생성한다.\n\noptions에서는 관찰 영역을 설정할 수 있고, 기본적으로는 viewport가 관찰 영역이 된다. **46번째 줄**에서 **rootMargin**을 설정했는데, 관찰 영역의 margin을 설정하는 옵션이다. header가 계속 viewport에 표시되므로 header 영역을 관찰 영역에서 제외하려고 설정했다.\n\ncallback 함수는 관찰 대상의 가시성에 변경사항이 있을 때 호출된다. callback의 첫 번째 인자로, **가시성에 변경사항이 있는 관찰 대상들만 요소로 하는 배열**이 들어온다.\n\n**27번째 줄**에서 가시성에 변화가 있는 모든 element를 순회하면서, 해당 element의 id 속성을 조회하고(**28-29번째 줄**), viewport에 들어온 element의 경우(`isIntersecting`이 `true`인 경우, **30번째 줄**)엔 `activeHeadingIdSet`에 추가하고, viewport에서 나간 element의 경우(**36번째 줄**) `activeHeadingIdSet`에서 제거한다. **즉 h2, h3가 viewport에 들어오면 `activeHeadingIdSet`에 추가하고, h2, h3가 viewport에서 나가게 되면 `activeHeadingIdSet`에서 제거했다.**\n\n**50-53번째 줄**에서 Intersection Observer 인스턴스에 앞서 찾은 h2, h3 element들을 모두 관찰 대상으로 등록한다.\n\n**55-57번째 줄**의 clean up 함수에서 등록한 관찰 대상을 모두 해제한다.\n\n**72번째 줄**에서는 현재 viewport에 들어온 h2, h3의 id들을 담고 있는 상태, `activeHeadingIdSet`을 활용해 해당 목차 아이템의 활성화 상태를 결정했다.\n\n![observing-headings](/images/posts/2024/toc/toc-highlight-observing-headings-1.webp)\n\n구현 결과 잘 동작하는 것처럼 보인다. (여러개의 h2, h3가 동시에 viewport에 들어오면 모두 highlight 되도록 구현했다.)\n\n### 문제점\n\n![observing-headings-bugs](/images/posts/2024/toc/toc-highlight-observing-headings-2.webp)\n\n위 그림에서 \"결과\" -\u003e \"클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결\" **영역**으로 스크롤을 옮겼음에도, TOC 컴포넌트에서 \"클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결\" 목차 아이템이 highlight 되지 않았다.\n\n원인은 생각보다 간단한데, \"클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결\" 제목이 viewport에 나타나지 않았기 때문이다. 위에서 구현할 때 Intersection Observer로 h2, h3 제목을 관찰했으므로 제목이 viewport에 나타나지 않으면 TOC 컴포넌트는 반응하지 않는다.\n\n### 해결\n\n**제목을 관찰하는 게 아니라 제목을 포함한 영역을 관찰해야 겠다**는 생각이 들었고, h2, h3를 div나 section 같은 태그로 감싸고 그 태그를 관찰하도록 만들면 될 것 같았다.\n\n다행히 `remark-sectionize` plugin을 이용하면 markdown/mdx에서 HTML로 글을 변환하면서 h2, h3를 감싸는 section을 쉽게 주입할 수 있었다.\n\n```md\n## heading2\n\nThis is heading2 content\n\n### heading3 - 1\n\nThis is heading3 - 1 content\n\n### heading3 - 2\n\nThis is heading3 - 2 content\n```\n\n위의 markdown은 HTML로 변환하면\n\n```html\n\u003ch2\u003eheading2\u003c/h2\u003e\n\u003cp\u003eThis is heading2 content\u003c/p\u003e\n\u003ch3\u003eheading3 - 1\u003c/h3\u003e\n\u003cp\u003eThis is heading3 - 1 content\u003c/p\u003e\n\u003ch3\u003eheading3 - 2\u003c/h3\u003e\n\u003cp\u003eThis is heading3 - 2 content\u003c/p\u003e\n```\n\n원래는 위의 형태로 변환되는데, `remark-sectionize` plugin을 사용하면\n\n```html\n\u003csection\u003e\n  \u003ch2\u003eheading2\u003c/h2\u003e\n  \u003cp\u003eThis is heading2 content\u003c/p\u003e\n  \u003csection\u003e\n    \u003ch3\u003eheading3 - 1\u003c/h3\u003e\n    \u003cp\u003eThis is heading3 - 1 content\u003c/p\u003e\n  \u003c/section\u003e\n  \u003csection\u003e\n    \u003ch3\u003eheading3 - 2\u003c/h3\u003e\n    \u003cp\u003eThis is heading3 - 2 content\u003c/p\u003e\n  \u003c/section\u003e\n\u003c/section\u003e\n```\n\n위의 형태로 변환된다. h2, h3를 감싸는 section 태그가 생성되었다.\n\n그리고 이젠 h2, h3 대신 section을 관찰할 것이다. 다음과 같이 코드를 수정했다.\n\n```tsx title=\"post-article-toc-sidebar.tsx\" showLineNumbers {21-23, 28-29,52-54}\n\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport PostArticleTOCItem from \"./post-article-toc-item\";\nimport HorizontalSeparator from \"../../separator/horizontal-separator\";\n\ntype Props = {\n  headings: {\n    type: \"h2\" | \"h3\";\n    text: string;\n    id: string;\n  }[];\n};\n\nexport default function PostArticleTOCSidebar({ headings }: Props) {\n  const [activeHeadingIdSet, setActiveHeadingIdSet] = useState\u003cSet\u003cstring\u003e\u003e(\n    () =\u003e new Set(),\n  );\n\n  useEffect(() =\u003e {\n    const sectionElements = document.querySelectorAll(\n      \"#article-content section\",\n    );\n\n    const observer = new IntersectionObserver(\n      (entries) =\u003e {\n        for (const entry of entries) {\n          const heading = entry.target.querySelector(\"h2,h3\");\n          if (!heading) continue;\n          const id = heading.getAttribute(\"id\");\n          if (!id) continue;\n          if (entry.isIntersecting) {\n            setActiveHeadingIdSet((prev) =\u003e {\n              const nxt = new Set(prev);\n              nxt.add(id);\n              return nxt;\n            });\n          } else {\n            setActiveHeadingIdSet((prev) =\u003e {\n              const nxt = new Set(prev);\n              nxt.delete(id);\n              return nxt;\n            });\n          }\n        }\n      },\n      {\n        rootMargin: \"-64px 0px 0px 0px\", // sticky header 영역 제외\n      },\n    );\n\n    sectionElements.forEach((sectionElement) =\u003e\n      observer.observe(sectionElement),\n    );\n\n    return () =\u003e {\n      observer.disconnect();\n    };\n  }, []);\n\n  return (\n    \u003csection className=\"max-h-full rounded-md border border-zinc-300 dark:border-zinc-700 p-3 flex flex-col gap-3\"\u003e\n      \u003ch2 className=\"text-lg shrink-0\"\u003e목차\u003c/h2\u003e\n      \u003cHorizontalSeparator /\u003e\n      \u003cnav className=\"flex-grow overflow-auto\"\u003e\n        \u003cul className=\"flex flex-col gap-1\"\u003e\n          {headings.map((item) =\u003e (\n            \u003cPostArticleTOCItem\n              key={item.id}\n              type={item.type}\n              link={`#${item.id}`}\n              text={item.text}\n              isActive={activeHeadingIdSet.has(item.id)}\n            /\u003e\n          ))}\n        \u003c/ul\u003e\n      \u003c/nav\u003e\n    \u003c/section\u003e\n  );\n}\n```\n\n`headings` prop이 가지고 있는 id 값을 이용해 id 속성을 갖는 h2, h3를 조회하는 대신, **21-23번째 줄**에서 section들을 조회했다.\n\n그리고 **52-54번째 줄**에서 이 section들을 Intersection Observer의 관찰 대상으로 등록했다.\n\ncallback 내부에서는 `entry`가 더이상 h2, h3 element가 아니라 section element이기 때문에 자식 h2, h3 element를 찾는 과정이 추가되었다. (**28-29번째 줄**)\n\n![observing-sections](/images/posts/2024/toc/toc-highlight-observing-section.webp)\n\n이제 \"결과\" -\u003e \"클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결\" 영역으로 스크롤을 옮기면, 비록 \"클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결\"이라는 **제목이 viewport에 없어도, 그 제목을 포함하는 영역이 viewport에 나타나면** TOC에서 \"클라이언트 코드에서 타입 추론이 제대로 되지 않는 문제 해결\" **목차 아이템을 highlight 한다.**\n\n## 정리\n\n개인 웹 사이트를 개발하면서 글 관련 기능으로 TOC 기능을 꼭 구현하고 싶었다. 글 전체의 흐름을 알려주고 글 내부의 여기 저기를 편하게 옮겨 다닐 수 있어서 유용할 것 같았다.\n\n쉽게 만들 수 있을 것 같았는데 구현하다보니 신경써야 할 부분이 많았다.\n\n서버에서 글들을 읽어들이고 HTML로 변환할 때, remark 플러그인을 활용해 h2, h3 관련 데이터를 미리 추출하고 이를 이용해 TOC 컴포넌트의 목차 아이템들을 표시했다.\n\n또, 글들을 HTML로 변환할 때 h2, h3 태그에 id 속성을 주입하고(값을 기반으로 자동 생성, remark plugin 활용) 목차 아이템을 해당 h2, h3를 가리키는 링크로 만들어(URI fragment 활용) 목차 아이템을 클릭했을 때 해당 영역으로 스크롤하는 기능을 구현했다.\n\n사용자가 현재 보고 있는 부분의 목차 아이템을 highlight 하는 기능을 만들기 위해서 viewport의 h2, h3의 가시성을 관찰하는 Intersection Observer를 활용하는 방법을 사용했었다. 잘 동작하는 것 같았지만 h2, h3의 가시성만 관찰했기 때문에 viewport에 h2, h3가 없는 경우 사용자가 보고 있는 영역의 제목을 highlight 하지 못했다.\n\n글을 HTML로 변환할 때 h2, h3를 감싸는 section을 주입했고, Intersection Observer가 h2, h3 대신 이 section을 관찰하도록 구현해서 비록 viewport에 h2, h3 태그가 없더라도 사용자가 보고 있는 영역을 판단할 수 있게 고쳤다.\n"])</script><script>self.__next_f.push([1,"1b:T1d489,"])</script><script>self.__next_f.push([1,"var Component=(()=\u003e{var p=Object.create;var n=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var D=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var A=(s,i)=\u003e()=\u003e(i||s((i={exports:{}}).exports,i),i.exports),o=(s,i)=\u003e{for(var l in i)n(s,l,{get:i[l],enumerable:!0})},t=(s,i,l,a)=\u003e{if(i\u0026\u0026typeof i==\"object\"||typeof i==\"function\")for(let e of y(i))!B.call(s,e)\u0026\u0026e!==l\u0026\u0026n(s,e,{get:()=\u003ei[e],enumerable:!(a=g(i,e))||a.enumerable});return s};var C=(s,i,l)=\u003e(l=s!=null?p(D(s)):{},t(i||!s||!s.__esModule?n(l,\"default\",{value:s,enumerable:!0}):l,s)),m=s=\u003et(n({},\"__esModule\",{value:!0}),s);var k=A((v,d)=\u003e{d.exports=_jsx_runtime});var f={};o(f,{default:()=\u003ec,frontmatter:()=\u003eE});var h=C(k()),E=void 0;function r(s){let i={code:\"code\",del:\"del\",figcaption:\"figcaption\",figure:\"figure\",h2:\"h2\",h3:\"h3\",img:\"img\",li:\"li\",p:\"p\",pre:\"pre\",section:\"section\",span:\"span\",strong:\"strong\",ul:\"ul\",...s.components};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(i.section,{children:[(0,h.jsx)(i.h2,{id:\"\\uB9CC\\uB4E4\\uACE0-\\uC2F6\\uC740-\\uAC83\",children:\"\\uB9CC\\uB4E4\\uACE0 \\uC2F6\\uC740 \\uAC83\"}),(0,h.jsxs)(i.p,{children:[\"\\uAE00 \\uB0B4\\uBD80\\uC758 \\uC81C\\uBAA9(h2, h3)\\uC744 \\uD65C\\uC6A9\\uD574 \\uAC04\\uB2E8\\uD558\\uAC8C \",(0,h.jsx)(i.strong,{children:\"\\uAE00\\uC758 \\uBAA9\\uCC28\\uB97C \\uD45C\\uC2DC\"}),\"\\uD558\\uACE0 \\uC2F6\\uC5C8\\uB2E4. \\uB610, \",(0,h.jsx)(i.strong,{children:\"\\uC0AC\\uC6A9\\uC790\\uAC00 \\uBCF4\\uACE0\\uC788\\uB294 \\uC601\\uC5ED\\uC758 \\uC81C\\uBAA9\\uC744 highlight\"}),\"\\uD574\\uC11C \\uD604\\uC7AC \\uC5B4\\uB5A4 \\uBD80\\uBD84\\uC744 \\uC77D\\uACE0 \\uC788\\uB294\\uC9C0 \\uC27D\\uAC8C \\uC54C\\uB824\\uC8FC\\uACE0 \\uC2F6\\uC5C8\\uB2E4. \\uC774\\uB7EC\\uD55C TOC \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uC758 \\uACF5\\uC2DD\\uBB38\\uC11C, \\uBE14\\uB85C\\uADF8 \\uB4F1\\uC5D0\\uC11C \\uB110\\uB9AC \\uC0AC\\uC6A9\\uB418\\uB294 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC774\\uAE30\\uB3C4 \\uD558\\uB2E4.\"]}),(0,h.jsx)(i.p,{children:(0,h.jsx)(i.img,{src:\"/images/posts/2024/toc/react-doc-toc-example.png\",alt:\"toc-example\"})}),(0,h.jsx)(i.p,{children:\"\\uC704\\uC758 \\uADF8\\uB9BC\\uC740 React \\uACF5\\uC2DD \\uBB38\\uC11C\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD558\\uB294 TOC\\uC778\\uB370, \\uC704\\uC640 \\uAC19\\uC740 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uAC1C\\uBC1C\\uD558\\uACE0 \\uC2F6\\uC5C8\\uB2E4.\"})]}),`\n`,(0,h.jsxs)(i.section,{children:[(0,h.jsx)(i.h2,{id:\"\\uAE00-\\uB0B4\\uBD80\\uC758-\\uC81C\\uBAA9\\uC744-\\uCD94\\uCD9C\\uD574\\uC11C-\\uD45C\\uC2DC\\uD558\\uAE30\",children:\"\\uAE00 \\uB0B4\\uBD80\\uC758 \\uC81C\\uBAA9\\uC744 \\uCD94\\uCD9C\\uD574\\uC11C \\uD45C\\uC2DC\\uD558\\uAE30\"}),(0,h.jsx)(i.p,{children:\"\\uD55C \\uBC88\\uC5D0 \\uBAA8\\uB4E0 \\uAE30\\uB2A5\\uC744 \\uAD6C\\uD604\\uD558\\uAE30 \\uC5B4\\uB824\\uC6B8 \\uAC83 \\uAC19\\uC544\\uC11C, \\uBA3C\\uC800 \\uAE00 \\uB0B4\\uBD80\\uC758 \\uC81C\\uBAA9\\uC744 \\uCD94\\uCD9C\\uD574\\uC11C \\uD45C\\uC2DC\\uD558\\uB294 \\uAE30\\uB2A5\\uBD80\\uD130 \\uAD6C\\uD604\\uD558\\uAE30\\uB85C \\uD588\\uB2E4.\"}),(0,h.jsxs)(i.p,{children:[\"\\uBA3C\\uC800 \\uC0DD\\uAC01\\uD55C \\uBC29\\uBC95\\uC740 \",(0,h.jsxs)(i.strong,{children:[\"\\uC6F9 \\uBE0C\\uB77C\\uC6B0\\uC800\\uC5D0\\uC11C \",(0,h.jsx)(i.code,{children:'document.querySelectorAll(\"h2,h3\")'}),\"\\uB97C \\uD638\\uCD9C\"]}),\"\\uD574 \\uC81C\\uBAA9\\uC744 \\uCD94\\uCD9C\\uD558\\uB294 \\uBC29\\uBC95\\uC774\\uB2E4. \\uC0AC\\uC6A9\\uD558\\uB294 \\uB370 \\uBB38\\uC81C \\uC5C6\\uB294 \\uBC29\\uC2DD\\uC774\\uAE34 \\uD558\\uC9C0\\uB9CC \\uBE0C\\uB77C\\uC6B0\\uC800\\uC5D0\\uC11C \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uAC00 mount \\uB418\\uACE0 \\uB098\\uC11C\\uC57C \\uBAA9\\uCC28\\uB97C \\uD45C\\uC2DC\\uD560 \\uC218 \\uC788\\uB2E4. \",(0,h.jsx)(i.del,{children:\"(\\uBB3C\\uB860 \\uAE08\\uBC29 \\uD45C\\uC2DC\\uB41C\\uB2E4.)\"})]}),(0,h.jsxs)(i.p,{children:['\"next \\uC560\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC744 build \\uD560 \\uB54C \\uC11C\\uBC84\\uAC00 \\uAE00 \\uB370\\uC774\\uD130\\uB97C \\uB2E4 \\uAC00\\uC9C0\\uACE0 \\uC788\\uB294\\uB370, \\uAD73\\uC774 \\uBE0C\\uB77C\\uC6B0\\uC800\\uC5D0\\uC11C \\uC81C\\uBAA9\\uC744 \\uCD94\\uCD9C\\uD574\\uC57C \\uD558\\uB098? \\uC11C\\uBC84\\uC5D0\\uC11C\\uB3C4 \\uCDA9\\uBD84\\uD788 \\uD560 \\uC218 \\uC788\\uC744\\uAC70 \\uAC19\\uC740\\uB370\"\\uB77C\\uB294 \\uC0DD\\uAC01\\uC774 \\uB4E4\\uC5C8\\uACE0, \\uC11C\\uBC84\\uC5D0\\uC11C \\uC81C\\uBAA9\\uC744 \\uCD94\\uCD9C\\uD558\\uB294 \\uBC29\\uBC95\\uC744 \\uCC3E\\uB358 \\uC911 ',(0,h.jsx)(i.code,{children:\"@vcarl/remark-headings\"}),\"\\uB77C\\uB294 remark plugin\\uC744 \\uBC1C\\uACAC\\uD558\\uAC8C \\uB418\\uC5C8\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.code,{children:\"@vcarl/remark-headings\"}),\" plugin\\uC740 markdown\\uC5D0\\uC11C \",(0,h.jsx)(i.code,{children:\"#\"}),\", \",(0,h.jsx)(i.code,{children:\"##\"}),\" \\uB4F1\\uC73C\\uB85C \\uC2DC\\uC791\\uD558\\uB294 \",(0,h.jsx)(i.strong,{children:\"\\uC81C\\uBAA9\\uC744 \\uCD94\\uCD9C\\uD574\\uC8FC\\uB294 plugin\"}),\"\\uC774\\uACE0, \",(0,h.jsx)(i.strong,{children:\"\\uC11C\\uBC84\\uC5D0\\uC11C \\uD30C\\uC77C\\uD615\\uD0DC\\uB85C \\uC800\\uC7A5\\uB41C \\uAE00\\uB4E4\\uC744 \\uC77D\\uACE0\\uB098\\uC11C\"}),\" \\uC774 plugin\\uC744 \\uC774\\uC6A9\\uD574 \\uAE00 \\uC548\\uC758 \\uC81C\\uBAA9 \\uC815\\uBCF4\\uB97C \\uCD94\\uCD9C\\uD558\\uB3C4\\uB85D \\uB9CC\\uB4E4\\uC5C8\\uB2E4. \\uCD94\\uCD9C\\uD55C \\uC81C\\uBAA9 \\uC815\\uBCF4\\uB85C \\uBAA9\\uCC28\\uB97C \\uD654\\uBA74\\uC5D0 \\uD45C\\uC2DC\\uD558\\uBA74 \\uB41C\\uB2E4.\"]})]}),`\n`,(0,h.jsxs)(i.section,{children:[(0,h.jsx)(i.h2,{id:\"\\uBAA9\\uCC28-\\uC544\\uC774\\uD15C\\uC744-\\uD074\\uB9AD\\uD588\\uC744-\\uB54C-\\uD574\\uB2F9-\\uC601\\uC5ED\\uC73C\\uB85C-\\uC2A4\\uD06C\\uB864\\uD558\\uB294-\\uAE30\\uB2A5-\\uAD6C\\uD604\",children:\"\\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC744 \\uD074\\uB9AD\\uD588\\uC744 \\uB54C, \\uD574\\uB2F9 \\uC601\\uC5ED\\uC73C\\uB85C \\uC2A4\\uD06C\\uB864\\uD558\\uB294 \\uAE30\\uB2A5 \\uAD6C\\uD604\"}),(0,h.jsxs)(i.p,{children:[\"\\uB2E4\\uC74C\\uC73C\\uB85C \\uAD6C\\uD604\\uD574\\uC57C \\uD560 \\uAE30\\uB2A5\\uC740 \",(0,h.jsx)(i.strong,{children:\"\\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC744 \\uD074\\uB9AD\\uD588\\uC744 \\uB54C, \\uD574\\uB2F9 \\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC744 \\uC81C\\uBAA9\\uC73C\\uB85C \\uD558\\uB294 \\uC601\\uC5ED\\uC774 \\uD654\\uBA74\\uC5D0 \\uB098\\uD0C0\\uB098\\uB3C4\\uB85D \\uC2A4\\uD06C\\uB864\"}),\"\\uD558\\uB294 \\uAE30\\uB2A5\\uC774\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.code,{children:\"element.scrollIntoView()\"}),\" \\uBA54\\uC11C\\uB4DC\\uB97C \\uC0AC\\uC6A9\\uD560 \\uC218\\uB3C4 \\uC788\\uC9C0\\uB9CC, \\uC774\\uB97C \\uC704\\uD574\\uC11C\\uB294 \\uAE00 \\uB0B4\\uBD80\\uC758 \\uBAA8\\uB4E0 \\uC81C\\uBAA9\\uC744 ref\\uB85C \\uC811\\uADFC\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uBCC4\\uB3C4\\uC758 \\uCF54\\uB4DC\\uB97C \\uC791\\uC131\\uD574\\uC57C \\uD55C\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[\"\\uC2E4\\uC81C\\uB85C \\uAD6C\\uD604\\uD560 \\uB54C\\uB294 \",(0,h.jsx)(i.strong,{children:\"URI fragment\"}),\"\\uB97C \\uC0AC\\uC6A9\\uD588\\uB2E4. \",(0,h.jsx)(i.code,{children:\"https://react.dev/learn/your-first-component#components-ui-building-blocks\"}),\" \\uC5D0\\uC11C \",(0,h.jsx)(i.code,{children:\"#components-ui-building-blocks\"}),\" \\uBD80\\uBD84\\uC744 \",(0,h.jsx)(i.code,{children:\"URI fragment\"}),\"\\uB77C\\uACE0 \\uD55C\\uB2E4. \",(0,h.jsx)(i.code,{children:\"#\"}),\"\\uC73C\\uB85C \\uC2DC\\uC791\\uD558\\uB294 \\uBB38\\uC790\\uC5F4\\uC774\\uACE0 \\uB9AC\\uC18C\\uC2A4\\uC758 \\uD2B9\\uC815 \\uBD80\\uBD84\\uC744 \\uC2DD\\uBCC4\\uD558\\uB294\\uB370 \\uC0AC\\uC6A9\\uD55C\\uB2E4. \\uB9AC\\uC18C\\uC2A4\\uC758 \\uD2B9\\uC815 \\uBD80\\uBD84\\uC774\\uB77C\\uD568\\uC740 '\\uBB38\\uC11C\\uC758 \\uD2B9\\uC815 section'\\uC774\\uB098 '\\uC601\\uC0C1\\uC758 \\uD2B9\\uC815 position'\\uC774 \\uB420 \\uC218 \\uC788\\uB2E4. fragment\\uB294 \\uC11C\\uBC84\\uC5D0 URI\\uB97C \\uC694\\uCCAD\\uD560 \\uB54C \\uC804\\uC1A1\\uD558\\uC9C0 \\uC54A\\uACE0, \\uB9AC\\uC18C\\uC2A4\\uB97C \\uBD88\\uB7EC\\uC628 \\uD6C4 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uC5D0\\uC11C \\uCC98\\uB9AC\\uD55C\\uB2E4\\uB294 \\uD2B9\\uC9D5\\uC774 \\uC788\\uB2E4. \\uB610, HTML \\uBB38\\uC11C\\uC5D0\\uC11C element\\uC758 id\\uAC00 fragment\\uAC00 \\uB420 \\uC218 \\uC788\\uACE0, \",(0,h.jsx)(i.strong,{children:\"fragment\\uAC00 \\uD3EC\\uD568\\uB41C URI\\uB97C \\uC6F9 \\uBE0C\\uB77C\\uC6B0\\uC800 \\uC8FC\\uC18C\\uCC3D\\uC5D0 \\uC785\\uB825\\uD558\\uBA74 \\uBE0C\\uB77C\\uC6B0\\uC800\\uAC00 \\uD574\\uB2F9 element\\uB85C \\uC2A4\\uD06C\\uB864\\uD55C\\uB2E4.\"})]}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.strong,{children:\"\\uAE00\\uC744 HTML\\uB85C \\uBCC0\\uD658\\uD560 \\uB54C h2, h3 \\uD0DC\\uADF8\\uC5D0 id\\uB97C \\uBD80\\uC5EC\"}),\"\\uD558\\uACE0, TOC \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C\\uB294 \",(0,h.jsx)(i.strong,{children:\"\\uD574\\uB2F9 id fragment\\uB97C \\uAC00\\uB9AC\\uD0A4\\uB294 link\\uB85C \\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC744 \\uB9CC\\uB4E4\\uBA74\"}),\", \\uBE0C\\uB77C\\uC6B0\\uC800\\uC758 \\uAE30\\uBCF8 \\uB3D9\\uC791\\uC5D0 \\uC758\\uD574 \",(0,h.jsx)(i.strong,{children:\"\\uBAA9\\uCC28 \\uC544\\uC774\\uD15C(\\uB9C1\\uD06C)\\uC744 \\uD074\\uB9AD\\uD588\\uC744 \\uB54C \\uD574\\uB2F9 \\uC601\\uC5ED\\uC73C\\uB85C \\uC774\\uB3D9\\uD558\\uAC8C \\uB41C\\uB2E4.\"})]}),(0,h.jsxs)(i.p,{children:[\"markdown \\uD615\\uD0DC\\uC758 \\uAE00\\uC744 HTML\\uB85C \\uBCC0\\uD658\\uD558\\uBA74\\uC11C \\uC0DD\\uC131\\uB420 h2, h3 \\uD0DC\\uADF8\\uC5D0 id\\uB97C \\uAC12\\uC744 \\uAE30\\uBC18\\uC73C\\uB85C \\uC790\\uB3D9\\uC73C\\uB85C \\uBD80\\uC5EC\\uD558\\uAE30 \\uC704\\uD574\\uC11C \",(0,h.jsx)(i.code,{children:\"remark-heading-id\"}),\" plugin\\uC744 \\uD65C\\uC6A9\\uD588\\uB2E4.\"]})]}),`\n`,(0,h.jsxs)(i.section,{children:[(0,h.jsx)(i.h2,{id:\"\\uC911\\uAC04-\\uC815\\uB9AC\",children:\"\\uC911\\uAC04 \\uC815\\uB9AC\"}),(0,h.jsx)(i.p,{children:\"\\uC9C0\\uAE08\\uAE4C\\uC9C0\\uC758 \\uC544\\uC774\\uB514\\uC5B4\\uB97C \\uC815\\uB9AC\\uD558\\uBA74 \\uB2E4\\uC74C\\uACFC \\uAC19\\uB2E4.\"}),(0,h.jsxs)(i.ul,{children:[`\n`,(0,h.jsxs)(i.li,{children:[\"markdown \\uB610\\uB294 mdx \\uD615\\uC2DD\\uC758 \",(0,h.jsx)(i.strong,{children:\"\\uAE00\\uC744 HTML\\uB85C \\uBCC0\\uD658\\uD560 \\uB54C\"}),\", \",(0,h.jsx)(i.code,{children:\"remark-heading-id\"}),\" plugin\\uC744 \\uC0AC\\uC6A9\\uD574 heading\\uC758 \\uAC12\\uC744 \\uAE30\\uBC18\\uC73C\\uB85C \",(0,h.jsx)(i.strong,{children:\"id\\uB97C \\uB9CC\\uB4E4\\uC5B4 \\uC0DD\\uC131\\uB420 h2, h3 \\uD0DC\\uADF8\\uC5D0 \\uC8FC\\uC785\"}),\"\\uD55C\\uB2E4.\"]}),`\n`,(0,h.jsxs)(i.li,{children:[\"markdown \\uB610\\uB294 mdx \\uD615\\uC2DD\\uC758 \\uAE00\\uC5D0 \",(0,h.jsx)(i.code,{children:\"@vcarl/remark-headings plugin\"}),\"\\uC744 \\uC801\\uC6A9\\uD574 \",(0,h.jsx)(i.strong,{children:\"\\uAE00 \\uB0B4\\uBD80\\uC758 \\uC81C\\uBAA9 \\uC815\\uBCF4\\uB97C \\uBAA8\\uB450 \\uCD94\\uCD9C\"}),\"\\uD55C\\uB2E4.\"]}),`\n`,(0,h.jsxs)(i.li,{children:[(0,h.jsx)(i.strong,{children:\"\\uCD94\\uCD9C\\uD55C \\uAE00 \\uB0B4\\uBD80\\uC758 \\uC81C\\uBAA9 \\uC815\\uBCF4\\uB97C \\uC21C\\uD68C\\uD558\\uBA74\\uC11C \\uB9AC\\uC2A4\\uD2B8 \\uD615\\uC2DD\\uC73C\\uB85C \\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC744 \\uD45C\\uC2DC\"}),\"\\uD55C\\uB2E4. \",(0,h.jsxs)(i.strong,{children:[\"\\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC740 \",(0,h.jsx)(i.code,{children:\"#{id}\"}),\"\\uB97C href\\uB85C \\uD558\\uB294 \\uB9C1\\uD06C\"]}),\"\\uC774\\uB2E4.\"]}),`\n`]}),(0,h.jsxs)(i.p,{children:[\"\\uCD94\\uAC00\\uB85C, \",(0,h.jsx)(i.strong,{children:\"\\uC2A4\\uD06C\\uB864\\uC774 \\uBD80\\uB4DC\\uB7FD\\uAC8C\"}),\" \\uB418\\uAE38 \\uBC14\\uB780\\uB2E4\\uBA74 \\uC2A4\\uD06C\\uB864 \\uCEE8\\uD14C\\uC774\\uB108\\uC5D0 \",(0,h.jsx)(i.code,{children:\"scroll-behavior: smooth;\"}),\" CSS\\uB97C \\uC801\\uC6A9\\uD558\\uBA74 \\uB41C\\uB2E4.\"]}),(0,h.jsx)(i.p,{children:(0,h.jsx)(i.img,{src:\"/images/posts/2024/toc/toc-implement.webp\",alt:\"toc-implement\"})}),(0,h.jsx)(i.p,{children:\"\\uAD6C\\uD604 \\uACB0\\uACFC\\uB294 \\uC704\\uC640 \\uAC19\\uB2E4. \\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC744 \\uD074\\uB9AD\\uD588\\uC744 \\uB54C \\uD574\\uB2F9 \\uC601\\uC5ED\\uC73C\\uB85C \\uC798 \\uC774\\uB3D9\\uD55C\\uB2E4.\"})]}),`\n`,(0,h.jsxs)(i.section,{children:[(0,h.jsx)(i.h2,{id:\"\\uC0AC\\uC6A9\\uC790\\uAC00-\\uBCF4\\uACE0-\\uC788\\uB294-\\uC601\\uC5ED\\uC758-\\uC81C\\uBAA9\\uC744-highlight-\\uD558\\uAE30\",children:\"\\uC0AC\\uC6A9\\uC790\\uAC00 \\uBCF4\\uACE0 \\uC788\\uB294 \\uC601\\uC5ED\\uC758 \\uC81C\\uBAA9\\uC744 highlight \\uD558\\uAE30\"}),(0,h.jsx)(i.p,{children:\"\\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C \\uAD6C\\uD604\\uD558\\uACE0 \\uC2F6\\uC5C8\\uB358 \\uAE30\\uB2A5\\uC740 \\uC0AC\\uC6A9\\uC790\\uAC00 \\uBCF4\\uACE0 \\uC788\\uB294 \\uC601\\uC5ED\\uC758 \\uC81C\\uBAA9\\uC744 highlight \\uD558\\uB294 \\uAE30\\uB2A5\\uC774\\uB2E4.\"}),(0,h.jsxs)(i.p,{children:[\"\\uD654\\uBA74\\uC5D0 \\uD45C\\uC2DC\\uB420 \",(0,h.jsx)(i.strong,{children:\"h2, h3 \\uD0DC\\uADF8\\uC758 \\uAC00\\uC2DC\\uC131 \\uBCC0\\uD654\\uB97C \\uAC10\\uC9C0\"}),\"\\uD558\\uBA74 \\uB420 \\uAC83 \\uAC19\\uC544 \",(0,h.jsx)(i.strong,{children:\"Intersection Observer\"}),\"\\uB97C \\uC774\\uC6A9\\uD574 \\uAD6C\\uD604\\uD558\\uAE30\\uB85C \\uD588\\uB2E4.\"]}),(0,h.jsxs)(i.section,{children:[(0,h.jsx)(i.h3,{id:\"intersection-observer\\uB85C-h-2-h-3-\\uB97C-\\uAD00\\uCC30\\uD558\\uB294-\\uBC29\\uBC95\\uC744-\\uC774\\uC6A9\\uD55C-\\uAD6C\\uD604\",children:\"Intersection Observer\\uB85C h2, h3\\uB97C \\uAD00\\uCC30\\uD558\\uB294 \\uBC29\\uBC95\\uC744 \\uC774\\uC6A9\\uD55C \\uAD6C\\uD604\"}),(0,h.jsxs)(i.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,h.jsx)(i.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"tsx\",\"data-theme\":\"vitesse-dark vitesse-light\",children:\"post-article-toc-sidebar.tsx\"}),(0,h.jsx)(i.pre,{style:{\"--shiki-dark\":\"#dbd7caee\",\"--shiki-light\":\"#393a34\",\"--shiki-dark-bg\":\"#121212\",\"--shiki-light-bg\":\"#ffffff\"},tabIndex:\"0\",\"data-language\":\"tsx\",\"data-theme\":\"vitesse-dark vitesse-light\",children:(0,h.jsxs)(i.code,{\"data-line-numbers\":\"\",\"data-language\":\"tsx\",\"data-theme\":\"vitesse-dark vitesse-light\",style:{display:\"grid\"},\"data-line-numbers-max-digits\":\"2\",children:[(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"use client\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"import\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" useEffect\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\",\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" useState\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" }\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" from\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:' \"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"react\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"import\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" PostArticleTOCItem\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" from\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:' \"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"./post-article-toc-item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"import\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" HorizontalSeparator\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" from\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:' \"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"../../separator/horizontal-separator\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"type\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\" Props\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"  headings\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\": {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"    type\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\": \"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"h2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" | \"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"h3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"    text\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\": \"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\"string\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"    id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\": \"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\"string\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  }[];\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"};\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"export\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" default\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" function\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" PostArticleTOCSidebar\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"({\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" headings\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" }: \"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\"Props\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"  const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" [\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"activeHeadingIdSet\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\",\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" setActiveHeadingIdSet\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"]\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" useState\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\"Set\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\"string\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\u003e(\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    ()\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" new\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" Set\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(),\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  );\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"  useEffect\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(()\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"    const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" headingElements\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" headings\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"map\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"((\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"heading\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"      document\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"querySelector\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:\"`\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"#article-content #\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"${\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"heading\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"}\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:\"`\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"),\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    );\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"    const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" observer\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" new\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" IntersectionObserver\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      (\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"entries\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"        for\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" entry\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" of\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" entries\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"          const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" entry\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"target\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"getAttribute\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"          if\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"!\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" continue\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"          if\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"entry\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"isIntersecting\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"            setActiveHeadingIdSet\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"((\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"prev\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"              const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" new\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" Set\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"prev\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"add\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"              return\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"            });\"})}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"          }\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" else\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"            setActiveHeadingIdSet\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"((\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"prev\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"              const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" new\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" Set\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"prev\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"delete\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"              return\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"            });\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"          }\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"        }\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      },\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      {\"})}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#B8A965\",\"--shiki-light\":\"#998418\"},children:\"        rootMargin\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\":\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:' \"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"-64px 0px 0px 0px\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\",\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#758575DD\",\"--shiki-light\":\"#A0ADA0\"},children:\" // sticky header \\uC601\\uC5ED \\uC81C\\uC678\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      },\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    );\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"    for\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" headingElement\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" of\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" headingElements\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"      if\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"!\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"headingElement\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" continue\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"      observer\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"observe\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"headingElement\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    }\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"    return\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" ()\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"      observer\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"disconnect\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"();\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    };\"})}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  },\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" [\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"headings\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"]);\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"  return\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"section\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" className\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"=\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"max-h-full rounded-md border border-zinc-300 dark:border-zinc-700 p-3 flex flex-col gap-3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" className\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"=\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"text-lg shrink-0\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"\\uBAA9\\uCC28\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#B8A965\",\"--shiki-light\":\"#998418\"},children:\"HorizontalSeparator\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" /\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"nav\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" className\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"=\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"flex-grow overflow-auto\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"        \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"ul\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" className\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"=\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"flex flex-col gap-1\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"          {\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"headings\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"map\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"((\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"            \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#B8A965\",\"--shiki-light\":\"#998418\"},children:\"PostArticleTOCItem\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              key\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"={\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"}\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              type\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"={\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"type\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"}\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              link\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"={\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:\"`\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"#\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"${\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"}\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:\"`\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"}\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              text\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"={\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"text\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"}\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              isActive\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"={\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"activeHeadingIdSet\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"has\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")}\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"            /\u003e\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"          ))}\"})}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"        \u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"ul\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      \u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"nav\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    \u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"section\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  );\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"}\"})})]})})]}),(0,h.jsx)(i.p,{children:\"Intersection Observer \\uAC19\\uC740 \\uC6F9 \\uBE0C\\uB77C\\uC6B0\\uC800\\uAC00 \\uC81C\\uACF5\\uD558\\uB294 API\\uB97C \\uC0AC\\uC6A9\\uD560 \\uAC83\\uC774\\uBBC0\\uB85C, useEffect\\uB97C \\uC0AC\\uC6A9\\uD588\\uB2E4.\"}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.strong,{children:\"16-18\\uBC88\\uC9F8 \\uC904\"}),\"\\uC5D0\\uC11C \\uD604\\uC7AC \\uC0AC\\uC6A9\\uC790\\uAC00 \\uBCF4\\uACE0 \\uC788\\uB294 h2, h3 \\uD0DC\\uADF8\\uC758 id\\uB4E4\\uC744 set\\uC73C\\uB85C \\uAD00\\uB9AC\\uD558\\uB294 \\uC0C1\\uD0DC, \",(0,h.jsx)(i.code,{children:\"activeHeadingIdSet\"}),\"\\uC744 \\uC815\\uC758\\uD588\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.strong,{children:\"21-23\\uBC88\\uC9F8 \\uC904\"}),\"\\uC5D0\\uC11C (Intersection Observer\\uC5D0 \\uB4F1\\uB85D\\uD558\\uAE30 \\uC704\\uD574) querySelector\\uB85C \",(0,h.jsx)(i.code,{children:\"heading.id\"}),\"\\uB97C id \\uAC12\\uC73C\\uB85C \\uAC16\\uB294 h2, h3 element\\uB4E4\\uC744 \\uBAA8\\uB450 \\uCC3E\\uB294\\uB2E4. (\\uCC98\\uC74C\\uC5D0\\uB294 querySelectorAll\\uB85C h2, h3 \\uD0DC\\uADF8\\uB97C \\uBAA8\\uB450 \\uCC3E\\uC558\\uB294\\uB370, \\uCD94\\uD6C4 IntersectionObserver\\uAC00 \\uC5B4\\uB290 \\uC21C\\uAC04 \\uB3D9\\uC791\\uD558\\uC9C0 \\uC54A\\uB294 \\uC774\\uC288\\uAC00 \\uBC1C\\uC0DD\\uD588\\uB2E4. \",(0,h.jsx)(i.del,{children:\"\\uC65C \\uADF8\\uB7F0\\uC9C0 \\uBAA8\\uB974\\uACA0\\uB124 \\u315C\\u315C\"}),\")\"]}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.strong,{children:\"25-48\\uBC88\\uC9F8 \\uC904\"}),\"\\uC5D0\\uC11C \",(0,h.jsx)(i.strong,{children:\"callback \\uD568\\uC218\"}),\"\\uC640 \",(0,h.jsx)(i.strong,{children:\"options\"}),\"\\uC744 \\uC778\\uC790\\uB85C \\uB118\\uAE30\\uBA74\\uC11C Intersection Observer \\uC778\\uC2A4\\uD134\\uC2A4\\uB97C \\uC0DD\\uC131\\uD55C\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[\"options\\uC5D0\\uC11C\\uB294 \\uAD00\\uCC30 \\uC601\\uC5ED\\uC744 \\uC124\\uC815\\uD560 \\uC218 \\uC788\\uACE0, \\uAE30\\uBCF8\\uC801\\uC73C\\uB85C\\uB294 viewport\\uAC00 \\uAD00\\uCC30 \\uC601\\uC5ED\\uC774 \\uB41C\\uB2E4. \",(0,h.jsx)(i.strong,{children:\"46\\uBC88\\uC9F8 \\uC904\"}),\"\\uC5D0\\uC11C \",(0,h.jsx)(i.strong,{children:\"rootMargin\"}),\"\\uC744 \\uC124\\uC815\\uD588\\uB294\\uB370, \\uAD00\\uCC30 \\uC601\\uC5ED\\uC758 margin\\uC744 \\uC124\\uC815\\uD558\\uB294 \\uC635\\uC158\\uC774\\uB2E4. header\\uAC00 \\uACC4\\uC18D viewport\\uC5D0 \\uD45C\\uC2DC\\uB418\\uBBC0\\uB85C header \\uC601\\uC5ED\\uC744 \\uAD00\\uCC30 \\uC601\\uC5ED\\uC5D0\\uC11C \\uC81C\\uC678\\uD558\\uB824\\uACE0 \\uC124\\uC815\\uD588\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[\"callback \\uD568\\uC218\\uB294 \\uAD00\\uCC30 \\uB300\\uC0C1\\uC758 \\uAC00\\uC2DC\\uC131\\uC5D0 \\uBCC0\\uACBD\\uC0AC\\uD56D\\uC774 \\uC788\\uC744 \\uB54C \\uD638\\uCD9C\\uB41C\\uB2E4. callback\\uC758 \\uCCAB \\uBC88\\uC9F8 \\uC778\\uC790\\uB85C, \",(0,h.jsx)(i.strong,{children:\"\\uAC00\\uC2DC\\uC131\\uC5D0 \\uBCC0\\uACBD\\uC0AC\\uD56D\\uC774 \\uC788\\uB294 \\uAD00\\uCC30 \\uB300\\uC0C1\\uB4E4\\uB9CC \\uC694\\uC18C\\uB85C \\uD558\\uB294 \\uBC30\\uC5F4\"}),\"\\uC774 \\uB4E4\\uC5B4\\uC628\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.strong,{children:\"27\\uBC88\\uC9F8 \\uC904\"}),\"\\uC5D0\\uC11C \\uAC00\\uC2DC\\uC131\\uC5D0 \\uBCC0\\uD654\\uAC00 \\uC788\\uB294 \\uBAA8\\uB4E0 element\\uB97C \\uC21C\\uD68C\\uD558\\uBA74\\uC11C, \\uD574\\uB2F9 element\\uC758 id \\uC18D\\uC131\\uC744 \\uC870\\uD68C\\uD558\\uACE0(\",(0,h.jsx)(i.strong,{children:\"28-29\\uBC88\\uC9F8 \\uC904\"}),\"), viewport\\uC5D0 \\uB4E4\\uC5B4\\uC628 element\\uC758 \\uACBD\\uC6B0(\",(0,h.jsx)(i.code,{children:\"isIntersecting\"}),\"\\uC774 \",(0,h.jsx)(i.code,{children:\"true\"}),\"\\uC778 \\uACBD\\uC6B0, \",(0,h.jsx)(i.strong,{children:\"30\\uBC88\\uC9F8 \\uC904\"}),\")\\uC5D4 \",(0,h.jsx)(i.code,{children:\"activeHeadingIdSet\"}),\"\\uC5D0 \\uCD94\\uAC00\\uD558\\uACE0, viewport\\uC5D0\\uC11C \\uB098\\uAC04 element\\uC758 \\uACBD\\uC6B0(\",(0,h.jsx)(i.strong,{children:\"36\\uBC88\\uC9F8 \\uC904\"}),\") \",(0,h.jsx)(i.code,{children:\"activeHeadingIdSet\"}),\"\\uC5D0\\uC11C \\uC81C\\uAC70\\uD55C\\uB2E4. \",(0,h.jsxs)(i.strong,{children:[\"\\uC989 h2, h3\\uAC00 viewport\\uC5D0 \\uB4E4\\uC5B4\\uC624\\uBA74 \",(0,h.jsx)(i.code,{children:\"activeHeadingIdSet\"}),\"\\uC5D0 \\uCD94\\uAC00\\uD558\\uACE0, h2, h3\\uAC00 viewport\\uC5D0\\uC11C \\uB098\\uAC00\\uAC8C \\uB418\\uBA74 \",(0,h.jsx)(i.code,{children:\"activeHeadingIdSet\"}),\"\\uC5D0\\uC11C \\uC81C\\uAC70\\uD588\\uB2E4.\"]})]}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.strong,{children:\"50-53\\uBC88\\uC9F8 \\uC904\"}),\"\\uC5D0\\uC11C Intersection Observer \\uC778\\uC2A4\\uD134\\uC2A4\\uC5D0 \\uC55E\\uC11C \\uCC3E\\uC740 h2, h3 element\\uB4E4\\uC744 \\uBAA8\\uB450 \\uAD00\\uCC30 \\uB300\\uC0C1\\uC73C\\uB85C \\uB4F1\\uB85D\\uD55C\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.strong,{children:\"55-57\\uBC88\\uC9F8 \\uC904\"}),\"\\uC758 clean up \\uD568\\uC218\\uC5D0\\uC11C \\uB4F1\\uB85D\\uD55C \\uAD00\\uCC30 \\uB300\\uC0C1\\uC744 \\uBAA8\\uB450 \\uD574\\uC81C\\uD55C\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.strong,{children:\"72\\uBC88\\uC9F8 \\uC904\"}),\"\\uC5D0\\uC11C\\uB294 \\uD604\\uC7AC viewport\\uC5D0 \\uB4E4\\uC5B4\\uC628 h2, h3\\uC758 id\\uB4E4\\uC744 \\uB2F4\\uACE0 \\uC788\\uB294 \\uC0C1\\uD0DC, \",(0,h.jsx)(i.code,{children:\"activeHeadingIdSet\"}),\"\\uC744 \\uD65C\\uC6A9\\uD574 \\uD574\\uB2F9 \\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC758 \\uD65C\\uC131\\uD654 \\uC0C1\\uD0DC\\uB97C \\uACB0\\uC815\\uD588\\uB2E4.\"]}),(0,h.jsx)(i.p,{children:(0,h.jsx)(i.img,{src:\"/images/posts/2024/toc/toc-highlight-observing-headings-1.webp\",alt:\"observing-headings\"})}),(0,h.jsx)(i.p,{children:\"\\uAD6C\\uD604 \\uACB0\\uACFC \\uC798 \\uB3D9\\uC791\\uD558\\uB294 \\uAC83\\uCC98\\uB7FC \\uBCF4\\uC778\\uB2E4. (\\uC5EC\\uB7EC\\uAC1C\\uC758 h2, h3\\uAC00 \\uB3D9\\uC2DC\\uC5D0 viewport\\uC5D0 \\uB4E4\\uC5B4\\uC624\\uBA74 \\uBAA8\\uB450 highlight \\uB418\\uB3C4\\uB85D \\uAD6C\\uD604\\uD588\\uB2E4.)\"})]}),(0,h.jsxs)(i.section,{children:[(0,h.jsx)(i.h3,{id:\"\\uBB38\\uC81C\\uC810\",children:\"\\uBB38\\uC81C\\uC810\"}),(0,h.jsx)(i.p,{children:(0,h.jsx)(i.img,{src:\"/images/posts/2024/toc/toc-highlight-observing-headings-2.webp\",alt:\"observing-headings-bugs\"})}),(0,h.jsxs)(i.p,{children:['\\uC704 \\uADF8\\uB9BC\\uC5D0\\uC11C \"\\uACB0\\uACFC\" -\u003e \"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8 \\uCF54\\uB4DC\\uC5D0\\uC11C \\uD0C0\\uC785 \\uCD94\\uB860\\uC774 \\uC81C\\uB300\\uB85C \\uB418\\uC9C0 \\uC54A\\uB294 \\uBB38\\uC81C \\uD574\\uACB0\" ',(0,h.jsx)(i.strong,{children:\"\\uC601\\uC5ED\"}),'\\uC73C\\uB85C \\uC2A4\\uD06C\\uB864\\uC744 \\uC62E\\uACBC\\uC74C\\uC5D0\\uB3C4, TOC \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8 \\uCF54\\uB4DC\\uC5D0\\uC11C \\uD0C0\\uC785 \\uCD94\\uB860\\uC774 \\uC81C\\uB300\\uB85C \\uB418\\uC9C0 \\uC54A\\uB294 \\uBB38\\uC81C \\uD574\\uACB0\" \\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC774 highlight \\uB418\\uC9C0 \\uC54A\\uC558\\uB2E4.']}),(0,h.jsx)(i.p,{children:'\\uC6D0\\uC778\\uC740 \\uC0DD\\uAC01\\uBCF4\\uB2E4 \\uAC04\\uB2E8\\uD55C\\uB370, \"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8 \\uCF54\\uB4DC\\uC5D0\\uC11C \\uD0C0\\uC785 \\uCD94\\uB860\\uC774 \\uC81C\\uB300\\uB85C \\uB418\\uC9C0 \\uC54A\\uB294 \\uBB38\\uC81C \\uD574\\uACB0\" \\uC81C\\uBAA9\\uC774 viewport\\uC5D0 \\uB098\\uD0C0\\uB098\\uC9C0 \\uC54A\\uC558\\uAE30 \\uB54C\\uBB38\\uC774\\uB2E4. \\uC704\\uC5D0\\uC11C \\uAD6C\\uD604\\uD560 \\uB54C Intersection Observer\\uB85C h2, h3 \\uC81C\\uBAA9\\uC744 \\uAD00\\uCC30\\uD588\\uC73C\\uBBC0\\uB85C \\uC81C\\uBAA9\\uC774 viewport\\uC5D0 \\uB098\\uD0C0\\uB098\\uC9C0 \\uC54A\\uC73C\\uBA74 TOC \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uBC18\\uC751\\uD558\\uC9C0 \\uC54A\\uB294\\uB2E4.'})]}),(0,h.jsxs)(i.section,{children:[(0,h.jsx)(i.h3,{id:\"\\uD574\\uACB0\",children:\"\\uD574\\uACB0\"}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.strong,{children:\"\\uC81C\\uBAA9\\uC744 \\uAD00\\uCC30\\uD558\\uB294 \\uAC8C \\uC544\\uB2C8\\uB77C \\uC81C\\uBAA9\\uC744 \\uD3EC\\uD568\\uD55C \\uC601\\uC5ED\\uC744 \\uAD00\\uCC30\\uD574\\uC57C \\uACA0\\uB2E4\"}),\"\\uB294 \\uC0DD\\uAC01\\uC774 \\uB4E4\\uC5C8\\uACE0, h2, h3\\uB97C div\\uB098 section \\uAC19\\uC740 \\uD0DC\\uADF8\\uB85C \\uAC10\\uC2F8\\uACE0 \\uADF8 \\uD0DC\\uADF8\\uB97C \\uAD00\\uCC30\\uD558\\uB3C4\\uB85D \\uB9CC\\uB4E4\\uBA74 \\uB420 \\uAC83 \\uAC19\\uC558\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[\"\\uB2E4\\uD589\\uD788 \",(0,h.jsx)(i.code,{children:\"remark-sectionize\"}),\" plugin\\uC744 \\uC774\\uC6A9\\uD558\\uBA74 markdown/mdx\\uC5D0\\uC11C HTML\\uB85C \\uAE00\\uC744 \\uBCC0\\uD658\\uD558\\uBA74\\uC11C h2, h3\\uB97C \\uAC10\\uC2F8\\uB294 section\\uC744 \\uC27D\\uAC8C \\uC8FC\\uC785\\uD560 \\uC218 \\uC788\\uC5C8\\uB2E4.\"]}),(0,h.jsx)(i.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,h.jsx)(i.pre,{style:{\"--shiki-dark\":\"#dbd7caee\",\"--shiki-light\":\"#393a34\",\"--shiki-dark-bg\":\"#121212\",\"--shiki-light-bg\":\"#ffffff\"},tabIndex:\"0\",\"data-language\":\"md\",\"data-theme\":\"vitesse-dark vitesse-light\",children:(0,h.jsxs)(i.code,{\"data-language\":\"md\",\"data-theme\":\"vitesse-dark vitesse-light\",style:{display:\"grid\"},children:[(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\",\"--shiki-dark-font-weight\":\"bold\",\"--shiki-light-font-weight\":\"bold\"},children:\"##\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1C6B48\",\"--shiki-dark-font-weight\":\"bold\",\"--shiki-light-font-weight\":\"bold\"},children:\" heading2\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"This is heading2 content\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\",\"--shiki-dark-font-weight\":\"bold\",\"--shiki-light-font-weight\":\"bold\"},children:\"###\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1C6B48\",\"--shiki-dark-font-weight\":\"bold\",\"--shiki-light-font-weight\":\"bold\"},children:\" heading3 - 1\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"This is heading3 - 1 content\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\",\"--shiki-dark-font-weight\":\"bold\",\"--shiki-light-font-weight\":\"bold\"},children:\"###\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1C6B48\",\"--shiki-dark-font-weight\":\"bold\",\"--shiki-light-font-weight\":\"bold\"},children:\" heading3 - 2\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"This is heading3 - 2 content\"})})]})})}),(0,h.jsx)(i.p,{children:\"\\uC704\\uC758 markdown\\uC740 HTML\\uB85C \\uBCC0\\uD658\\uD558\\uBA74\"}),(0,h.jsx)(i.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,h.jsx)(i.pre,{style:{\"--shiki-dark\":\"#dbd7caee\",\"--shiki-light\":\"#393a34\",\"--shiki-dark-bg\":\"#121212\",\"--shiki-light-bg\":\"#ffffff\"},tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"vitesse-dark vitesse-light\",children:(0,h.jsxs)(i.code,{\"data-language\":\"html\",\"data-theme\":\"vitesse-dark vitesse-light\",style:{display:\"grid\"},children:[(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"heading2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"This is heading2 content\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"heading3 - 1\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"This is heading3 - 1 content\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"heading3 - 2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"This is heading3 - 2 content\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]})]})})}),(0,h.jsxs)(i.p,{children:[\"\\uC6D0\\uB798\\uB294 \\uC704\\uC758 \\uD615\\uD0DC\\uB85C \\uBCC0\\uD658\\uB418\\uB294\\uB370, \",(0,h.jsx)(i.code,{children:\"remark-sectionize\"}),\" plugin\\uC744 \\uC0AC\\uC6A9\\uD558\\uBA74\"]}),(0,h.jsx)(i.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,h.jsx)(i.pre,{style:{\"--shiki-dark\":\"#dbd7caee\",\"--shiki-light\":\"#393a34\",\"--shiki-dark-bg\":\"#121212\",\"--shiki-light-bg\":\"#ffffff\"},tabIndex:\"0\",\"data-language\":\"html\",\"data-theme\":\"vitesse-dark vitesse-light\",children:(0,h.jsxs)(i.code,{\"data-language\":\"html\",\"data-theme\":\"vitesse-dark vitesse-light\",style:{display:\"grid\"},children:[(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"section\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"heading2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"This is heading2 content\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"section\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"heading3 - 1\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"This is heading3 - 1 content\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  \u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"section\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"section\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"heading3 - 2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"This is heading3 - 2 content\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"p\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  \u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"section\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"section\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]})]})})}),(0,h.jsx)(i.p,{children:\"\\uC704\\uC758 \\uD615\\uD0DC\\uB85C \\uBCC0\\uD658\\uB41C\\uB2E4. h2, h3\\uB97C \\uAC10\\uC2F8\\uB294 section \\uD0DC\\uADF8\\uAC00 \\uC0DD\\uC131\\uB418\\uC5C8\\uB2E4.\"}),(0,h.jsx)(i.p,{children:\"\\uADF8\\uB9AC\\uACE0 \\uC774\\uC820 h2, h3 \\uB300\\uC2E0 section\\uC744 \\uAD00\\uCC30\\uD560 \\uAC83\\uC774\\uB2E4. \\uB2E4\\uC74C\\uACFC \\uAC19\\uC774 \\uCF54\\uB4DC\\uB97C \\uC218\\uC815\\uD588\\uB2E4.\"}),(0,h.jsxs)(i.figure,{\"data-rehype-pretty-code-figure\":\"\",children:[(0,h.jsx)(i.figcaption,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"tsx\",\"data-theme\":\"vitesse-dark vitesse-light\",children:\"post-article-toc-sidebar.tsx\"}),(0,h.jsx)(i.pre,{style:{\"--shiki-dark\":\"#dbd7caee\",\"--shiki-light\":\"#393a34\",\"--shiki-dark-bg\":\"#121212\",\"--shiki-light-bg\":\"#ffffff\"},tabIndex:\"0\",\"data-language\":\"tsx\",\"data-theme\":\"vitesse-dark vitesse-light\",children:(0,h.jsxs)(i.code,{\"data-line-numbers\":\"\",\"data-language\":\"tsx\",\"data-theme\":\"vitesse-dark vitesse-light\",style:{display:\"grid\"},\"data-line-numbers-max-digits\":\"2\",children:[(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"use client\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"import\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" useEffect\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\",\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" useState\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" }\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" from\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:' \"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"react\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"import\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" PostArticleTOCItem\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" from\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:' \"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"./post-article-toc-item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"import\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" HorizontalSeparator\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" from\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:' \"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"../../separator/horizontal-separator\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"type\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\" Props\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"  headings\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\": {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"    type\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\": \"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"h2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" | \"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"h3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"    text\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\": \"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\"string\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"    id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\": \"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\"string\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  }[];\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"};\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"export\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" default\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" function\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" PostArticleTOCSidebar\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"({\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" headings\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" }: \"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\"Props\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"  const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" [\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"activeHeadingIdSet\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\",\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" setActiveHeadingIdSet\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"]\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" useState\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\"Set\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#5DA994\",\"--shiki-light\":\"#2E8F82\"},children:\"string\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\u003e(\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    ()\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" new\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" Set\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(),\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  );\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"  useEffect\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(()\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"    const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" sectionElements\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" document\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"querySelectorAll\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'      \"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"#article-content section\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\",\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    );\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"    const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" observer\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" new\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" IntersectionObserver\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      (\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"entries\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"        for\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" entry\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" of\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" entries\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"          const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" heading\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" entry\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"target\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"querySelector\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"h2,h3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"          if\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"!\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"heading\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" continue\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"          const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" heading\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"getAttribute\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"          if\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"!\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" continue\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"          if\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"entry\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"isIntersecting\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"            setActiveHeadingIdSet\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"((\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"prev\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"              const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" new\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" Set\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"prev\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"add\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"              return\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"            });\"})}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"          }\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\" else\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"            setActiveHeadingIdSet\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"((\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"prev\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\"              const\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#CB7676\",\"--shiki-light\":\"#AB5959\"},children:\" new\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\" Set\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"prev\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"delete\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\");\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"              return\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" nxt\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\";\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"            });\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"          }\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"        }\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      },\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      {\"})}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#B8A965\",\"--shiki-light\":\"#998418\"},children:\"        rootMargin\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\":\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:' \"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"-64px 0px 0px 0px\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\",\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#758575DD\",\"--shiki-light\":\"#A0ADA0\"},children:\" // sticky header \\uC601\\uC5ED \\uC81C\\uC678\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      },\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    );\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"    sectionElements\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"forEach\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"((\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"sectionElement\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"      observer\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"observe\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"sectionElement\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"),\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    );\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"    return\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" ()\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" {\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"      observer\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"disconnect\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"();\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    };\"})}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  },\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" []);\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"  return\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"section\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" className\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"=\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"max-h-full rounded-md border border-zinc-300 dark:border-zinc-700 p-3 flex flex-col gap-3\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" className\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"=\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"text-lg shrink-0\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#DBD7CAEE\",\"--shiki-light\":\"#393A34\"},children:\"\\uBAA9\\uCC28\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"h2\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#B8A965\",\"--shiki-light\":\"#998418\"},children:\"HorizontalSeparator\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" /\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"nav\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" className\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"=\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"flex-grow overflow-auto\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"        \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"ul\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\" className\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"=\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"flex flex-col gap-1\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:'\"'}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"          {\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"headings\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"map\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"((\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" =\u003e\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\" (\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"            \u003c\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#B8A965\",\"--shiki-light\":\"#998418\"},children:\"PostArticleTOCItem\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              key\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"={\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"}\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              type\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"={\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"type\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"}\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              link\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"={\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:\"`\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"#\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"${\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D\",\"--shiki-light\":\"#B56959\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"}\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#C98A7D77\",\"--shiki-light\":\"#B5695977\"},children:\"`\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"}\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              text\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"={\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"text\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"}\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"              isActive\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"={\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"activeHeadingIdSet\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#80A665\",\"--shiki-light\":\"#59873A\"},children:\"has\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"(\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"item\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\".\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#BD976A\",\"--shiki-light\":\"#B07D48\"},children:\"id\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\")}\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"            /\u003e\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"          ))}\"})}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"        \u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"ul\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"      \u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"nav\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsxs)(i.span,{\"data-line\":\"\",children:[(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"    \u003c/\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#4D9375\",\"--shiki-light\":\"#1E754F\"},children:\"section\"}),(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"\u003e\"})]}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"  );\"})}),`\n`,(0,h.jsx)(i.span,{\"data-line\":\"\",children:(0,h.jsx)(i.span,{style:{\"--shiki-dark\":\"#666666\",\"--shiki-light\":\"#999999\"},children:\"}\"})})]})})]}),(0,h.jsxs)(i.p,{children:[(0,h.jsx)(i.code,{children:\"headings\"}),\" prop\\uC774 \\uAC00\\uC9C0\\uACE0 \\uC788\\uB294 id \\uAC12\\uC744 \\uC774\\uC6A9\\uD574 id \\uC18D\\uC131\\uC744 \\uAC16\\uB294 h2, h3\\uB97C \\uC870\\uD68C\\uD558\\uB294 \\uB300\\uC2E0, \",(0,h.jsx)(i.strong,{children:\"21-23\\uBC88\\uC9F8 \\uC904\"}),\"\\uC5D0\\uC11C section\\uB4E4\\uC744 \\uC870\\uD68C\\uD588\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[\"\\uADF8\\uB9AC\\uACE0 \",(0,h.jsx)(i.strong,{children:\"52-54\\uBC88\\uC9F8 \\uC904\"}),\"\\uC5D0\\uC11C \\uC774 section\\uB4E4\\uC744 Intersection Observer\\uC758 \\uAD00\\uCC30 \\uB300\\uC0C1\\uC73C\\uB85C \\uB4F1\\uB85D\\uD588\\uB2E4.\"]}),(0,h.jsxs)(i.p,{children:[\"callback \\uB0B4\\uBD80\\uC5D0\\uC11C\\uB294 \",(0,h.jsx)(i.code,{children:\"entry\"}),\"\\uAC00 \\uB354\\uC774\\uC0C1 h2, h3 element\\uAC00 \\uC544\\uB2C8\\uB77C section element\\uC774\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uC790\\uC2DD h2, h3 element\\uB97C \\uCC3E\\uB294 \\uACFC\\uC815\\uC774 \\uCD94\\uAC00\\uB418\\uC5C8\\uB2E4. (\",(0,h.jsx)(i.strong,{children:\"28-29\\uBC88\\uC9F8 \\uC904\"}),\")\"]}),(0,h.jsx)(i.p,{children:(0,h.jsx)(i.img,{src:\"/images/posts/2024/toc/toc-highlight-observing-section.webp\",alt:\"observing-sections\"})}),(0,h.jsxs)(i.p,{children:['\\uC774\\uC81C \"\\uACB0\\uACFC\" -\u003e \"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8 \\uCF54\\uB4DC\\uC5D0\\uC11C \\uD0C0\\uC785 \\uCD94\\uB860\\uC774 \\uC81C\\uB300\\uB85C \\uB418\\uC9C0 \\uC54A\\uB294 \\uBB38\\uC81C \\uD574\\uACB0\" \\uC601\\uC5ED\\uC73C\\uB85C \\uC2A4\\uD06C\\uB864\\uC744 \\uC62E\\uAE30\\uBA74, \\uBE44\\uB85D \"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8 \\uCF54\\uB4DC\\uC5D0\\uC11C \\uD0C0\\uC785 \\uCD94\\uB860\\uC774 \\uC81C\\uB300\\uB85C \\uB418\\uC9C0 \\uC54A\\uB294 \\uBB38\\uC81C \\uD574\\uACB0\"\\uC774\\uB77C\\uB294 ',(0,h.jsx)(i.strong,{children:\"\\uC81C\\uBAA9\\uC774 viewport\\uC5D0 \\uC5C6\\uC5B4\\uB3C4, \\uADF8 \\uC81C\\uBAA9\\uC744 \\uD3EC\\uD568\\uD558\\uB294 \\uC601\\uC5ED\\uC774 viewport\\uC5D0 \\uB098\\uD0C0\\uB098\\uBA74\"}),' TOC\\uC5D0\\uC11C \"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8 \\uCF54\\uB4DC\\uC5D0\\uC11C \\uD0C0\\uC785 \\uCD94\\uB860\\uC774 \\uC81C\\uB300\\uB85C \\uB418\\uC9C0 \\uC54A\\uB294 \\uBB38\\uC81C \\uD574\\uACB0\" ',(0,h.jsx)(i.strong,{children:\"\\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC744 highlight \\uD55C\\uB2E4.\"})]})]})]}),`\n`,(0,h.jsxs)(i.section,{children:[(0,h.jsx)(i.h2,{id:\"\\uC815\\uB9AC\",children:\"\\uC815\\uB9AC\"}),(0,h.jsx)(i.p,{children:\"\\uAC1C\\uC778 \\uC6F9 \\uC0AC\\uC774\\uD2B8\\uB97C \\uAC1C\\uBC1C\\uD558\\uBA74\\uC11C \\uAE00 \\uAD00\\uB828 \\uAE30\\uB2A5\\uC73C\\uB85C TOC \\uAE30\\uB2A5\\uC744 \\uAF2D \\uAD6C\\uD604\\uD558\\uACE0 \\uC2F6\\uC5C8\\uB2E4. \\uAE00 \\uC804\\uCCB4\\uC758 \\uD750\\uB984\\uC744 \\uC54C\\uB824\\uC8FC\\uACE0 \\uAE00 \\uB0B4\\uBD80\\uC758 \\uC5EC\\uAE30 \\uC800\\uAE30\\uB97C \\uD3B8\\uD558\\uAC8C \\uC62E\\uACA8 \\uB2E4\\uB2D0 \\uC218 \\uC788\\uC5B4\\uC11C \\uC720\\uC6A9\\uD560 \\uAC83 \\uAC19\\uC558\\uB2E4.\"}),(0,h.jsx)(i.p,{children:\"\\uC27D\\uAC8C \\uB9CC\\uB4E4 \\uC218 \\uC788\\uC744 \\uAC83 \\uAC19\\uC558\\uB294\\uB370 \\uAD6C\\uD604\\uD558\\uB2E4\\uBCF4\\uB2C8 \\uC2E0\\uACBD\\uC368\\uC57C \\uD560 \\uBD80\\uBD84\\uC774 \\uB9CE\\uC558\\uB2E4.\"}),(0,h.jsx)(i.p,{children:\"\\uC11C\\uBC84\\uC5D0\\uC11C \\uAE00\\uB4E4\\uC744 \\uC77D\\uC5B4\\uB4E4\\uC774\\uACE0 HTML\\uB85C \\uBCC0\\uD658\\uD560 \\uB54C, remark \\uD50C\\uB7EC\\uADF8\\uC778\\uC744 \\uD65C\\uC6A9\\uD574 h2, h3 \\uAD00\\uB828 \\uB370\\uC774\\uD130\\uB97C \\uBBF8\\uB9AC \\uCD94\\uCD9C\\uD558\\uACE0 \\uC774\\uB97C \\uC774\\uC6A9\\uD574 TOC \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC758 \\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uB4E4\\uC744 \\uD45C\\uC2DC\\uD588\\uB2E4.\"}),(0,h.jsx)(i.p,{children:\"\\uB610, \\uAE00\\uB4E4\\uC744 HTML\\uB85C \\uBCC0\\uD658\\uD560 \\uB54C h2, h3 \\uD0DC\\uADF8\\uC5D0 id \\uC18D\\uC131\\uC744 \\uC8FC\\uC785\\uD558\\uACE0(\\uAC12\\uC744 \\uAE30\\uBC18\\uC73C\\uB85C \\uC790\\uB3D9 \\uC0DD\\uC131, remark plugin \\uD65C\\uC6A9) \\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC744 \\uD574\\uB2F9 h2, h3\\uB97C \\uAC00\\uB9AC\\uD0A4\\uB294 \\uB9C1\\uD06C\\uB85C \\uB9CC\\uB4E4\\uC5B4(URI fragment \\uD65C\\uC6A9) \\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC744 \\uD074\\uB9AD\\uD588\\uC744 \\uB54C \\uD574\\uB2F9 \\uC601\\uC5ED\\uC73C\\uB85C \\uC2A4\\uD06C\\uB864\\uD558\\uB294 \\uAE30\\uB2A5\\uC744 \\uAD6C\\uD604\\uD588\\uB2E4.\"}),(0,h.jsx)(i.p,{children:\"\\uC0AC\\uC6A9\\uC790\\uAC00 \\uD604\\uC7AC \\uBCF4\\uACE0 \\uC788\\uB294 \\uBD80\\uBD84\\uC758 \\uBAA9\\uCC28 \\uC544\\uC774\\uD15C\\uC744 highlight \\uD558\\uB294 \\uAE30\\uB2A5\\uC744 \\uB9CC\\uB4E4\\uAE30 \\uC704\\uD574\\uC11C viewport\\uC758 h2, h3\\uC758 \\uAC00\\uC2DC\\uC131\\uC744 \\uAD00\\uCC30\\uD558\\uB294 Intersection Observer\\uB97C \\uD65C\\uC6A9\\uD558\\uB294 \\uBC29\\uBC95\\uC744 \\uC0AC\\uC6A9\\uD588\\uC5C8\\uB2E4. \\uC798 \\uB3D9\\uC791\\uD558\\uB294 \\uAC83 \\uAC19\\uC558\\uC9C0\\uB9CC h2, h3\\uC758 \\uAC00\\uC2DC\\uC131\\uB9CC \\uAD00\\uCC30\\uD588\\uAE30 \\uB54C\\uBB38\\uC5D0 viewport\\uC5D0 h2, h3\\uAC00 \\uC5C6\\uB294 \\uACBD\\uC6B0 \\uC0AC\\uC6A9\\uC790\\uAC00 \\uBCF4\\uACE0 \\uC788\\uB294 \\uC601\\uC5ED\\uC758 \\uC81C\\uBAA9\\uC744 highlight \\uD558\\uC9C0 \\uBABB\\uD588\\uB2E4.\"}),(0,h.jsx)(i.p,{children:\"\\uAE00\\uC744 HTML\\uB85C \\uBCC0\\uD658\\uD560 \\uB54C h2, h3\\uB97C \\uAC10\\uC2F8\\uB294 section\\uC744 \\uC8FC\\uC785\\uD588\\uACE0, Intersection Observer\\uAC00 h2, h3 \\uB300\\uC2E0 \\uC774 section\\uC744 \\uAD00\\uCC30\\uD558\\uB3C4\\uB85D \\uAD6C\\uD604\\uD574\\uC11C \\uBE44\\uB85D viewport\\uC5D0 h2, h3 \\uD0DC\\uADF8\\uAC00 \\uC5C6\\uB354\\uB77C\\uB3C4 \\uC0AC\\uC6A9\\uC790\\uAC00 \\uBCF4\\uACE0 \\uC788\\uB294 \\uC601\\uC5ED\\uC744 \\uD310\\uB2E8\\uD560 \\uC218 \\uC788\\uAC8C \\uACE0\\uCCE4\\uB2E4.\"})]})]})}function c(s={}){let{wrapper:i}=s.components||{};return i?(0,h.jsx)(i,{...s,children:(0,h.jsx)(r,{...s})}):r(s)}return m(f);})();\n;return Component;"])</script><script>self.__next_f.push([1,"1e:{\"id\":\"만들고-싶은-것\",\"text\":\"만들고 싶은 것\",\"type\":\"h2\"}\n1f:{\"id\":\"글-내부의-제목을-추출해서-표시하기\",\"text\":\"글 내부의 제목을 추출해서 표시하기\",\"type\":\"h2\"}\n20:{\"id\":\"목차-아이템을-클릭했을-때-해당-영역으로-스크롤하는-기능-구현\",\"text\":\"목차 아이템을 클릭했을 때, 해당 영역으로 스크롤하는 기능 구현\",\"type\":\"h2\"}\n21:{\"id\":\"중간-정리\",\"text\":\"중간 정리\",\"type\":\"h2\"}\n22:{\"id\":\"사용자가-보고-있는-영역의-제목을-highlight-하기\",\"text\":\"사용자가 보고 있는 영역의 제목을 highlight 하기\",\"type\":\"h2\"}\n23:{\"id\":\"intersection-observer로-h-2-h-3-를-관찰하는-방법을-이용한-구현\",\"text\":\"Intersection Observer로 h2, h3를 관찰하는 방법을 이용한 구현\",\"type\":\"h3\"}\n24:{\"id\":\"문제점\",\"text\":\"문제점\",\"type\":\"h3\"}\n25:{\"id\":\"해결\",\"text\":\"해결\",\"type\":\"h3\"}\n26:{\"id\":\"정리\",\"text\":\"정리\",\"type\":\"h2\"}\n1d:[\"$1e\",\"$1f\",\"$20\",\"$21\",\"$22\",\"$23\",\"$24\",\"$25\",\"$26\"]\n"])</script><script>self.__next_f.push([1,"8:[\"$\",\"article\",null,{\"className\":\"flex flex-col gap-y-6\",\"children\":[[\"$\",\"header\",null,{\"className\":\"flex flex-col gap-y-4\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl sm:text-4xl font-bold\",\"children\":\"TOC(Table of Contents) 컴포넌트 만들기\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-3 items-center\",\"children\":[[\"$\",\"$Lc\",\"0\",{\"href\":\"/tags/Next.js\",\"className\":\"block px-2 py-1 rounded-md bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700\",\"children\":\"Next.js\"}],[\"$\",\"$Lc\",\"1\",{\"href\":\"/tags/React\",\"className\":\"block px-2 py-1 rounded-md bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700\",\"children\":\"React\"}],[\"$\",\"$Lc\",\"2\",{\"href\":\"/tags/회고\",\"className\":\"block px-2 py-1 rounded-md bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700\",\"children\":\"회고\"}]]}],[\"$\",\"time\",null,{\"className\":\"text-sm text-zinc-700 dark:text-zinc-300\",\"children\":[\"2024.12.04\",\" 작성\"]}]]}],[\"$\",\"div\",null,{\"data-orientation\":\"horizontal\",\"role\":\"none\",\"className\":\"w-full h-[1px] bg-zinc-300 dark:bg-zinc-700 shrink-0\"}],[\"$\",\"div\",null,{\"className\":\"lg:hidden\",\"children\":[\"$\",\"section\",null,{\"className\":\"flex flex-col gap-5 p-2 rounded-md border border-zinc-300 dark:border-zinc-700\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-lg\",\"children\":\"목차\"}],[\"$\",\"nav\",null,{\"children\":[\"$\",\"ul\",null,{\"className\":\"flex flex-col gap-2\",\"children\":[[\"$\",\"li\",\"만들고-싶은-것\",{\"children\":[\"$\",\"$Lc\",null,{\"href\":\"#만들고-싶은-것\",\"className\":\"flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700\",\"children\":\"H2\"}],\"만들고 싶은 것\"]}]}],[\"$\",\"li\",\"글-내부의-제목을-추출해서-표시하기\",{\"children\":[\"$\",\"$Lc\",null,{\"href\":\"#글-내부의-제목을-추출해서-표시하기\",\"className\":\"flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700\",\"children\":\"H2\"}],\"글 내부의 제목을 추출해서 표시하기\"]}]}],[\"$\",\"li\",\"목차-아이템을-클릭했을-때-해당-영역으로-스크롤하는-기능-구현\",{\"children\":[\"$\",\"$Lc\",null,{\"href\":\"#목차-아이템을-클릭했을-때-해당-영역으로-스크롤하는-기능-구현\",\"className\":\"flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700\",\"children\":\"H2\"}],\"목차 아이템을 클릭했을 때, 해당 영역으로 스크롤하는 기능 구현\"]}]}],[\"$\",\"li\",\"중간-정리\",{\"children\":[\"$\",\"$Lc\",null,{\"href\":\"#중간-정리\",\"className\":\"flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700\",\"children\":\"H2\"}],\"중간 정리\"]}]}],[\"$\",\"li\",\"사용자가-보고-있는-영역의-제목을-highlight-하기\",{\"children\":[\"$\",\"$Lc\",null,{\"href\":\"#사용자가-보고-있는-영역의-제목을-highlight-하기\",\"className\":\"flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700\",\"children\":\"H2\"}],\"사용자가 보고 있는 영역의 제목을 highlight 하기\"]}]}],[\"$\",\"li\",\"intersection-observer로-h-2-h-3-를-관찰하는-방법을-이용한-구현\",{\"children\":[\"$\",\"$Lc\",null,{\"href\":\"#intersection-observer로-h-2-h-3-를-관찰하는-방법을-이용한-구현\",\"className\":\"flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5 pl-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700\",\"children\":\"H3\"}],\"Intersection Observer로 h2, h3를 관찰하는 방법을 이용한 구현\"]}]}],[\"$\",\"li\",\"문제점\",{\"children\":[\"$\",\"$Lc\",null,{\"href\":\"#문제점\",\"className\":\"flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5 pl-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700\",\"children\":\"H3\"}],\"문제점\"]}]}],[\"$\",\"li\",\"해결\",{\"children\":[\"$\",\"$Lc\",null,{\"href\":\"#해결\",\"className\":\"flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5 pl-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700\",\"children\":\"H3\"}],\"해결\"]}]}],[\"$\",\"li\",\"정리\",{\"children\":[\"$\",\"$Lc\",null,{\"href\":\"#정리\",\"className\":\"flex items-baseline gap-2 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md p-0.5\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-0.5 shrink-0 text-xs text-zinc-700 dark:text-zinc-300 rounded-md border border-zinc-300 dark:border-zinc-700\",\"children\":\"H2\"}],\"정리\"]}]}]]}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"lg:grid lg:grid-cols-[calc(100%-320px)_320px]\",\"children\":[[\"$\",\"$L19\",null,{\"post\":{\"rawContent\":\"$1a\",\"bundledContent\":\"$1b\",\"createdAt\":\"$D2024-12-04T04:43:06.000Z\",\"description\":\"글 상세 페이지에서 사용할 TOC 컴포넌트 개발 후기\",\"title\":\"TOC(Table of Contents) 컴포넌트 만들기\",\"tags\":[\"Next.js\",\"React\",\"회고\"],\"absoluteUrl\":\"/posts/contents/2024/toc\",\"headings\":[{\"id\":\"만들고-싶은-것\",\"text\":\"만들고 싶은 것\",\"type\":\"h2\"},{\"id\":\"글-내부의-제목을-추출해서-표시하기\",\"text\":\"글 내부의 제목을 추출해서 표시하기\",\"type\":\"h2\"},{\"id\":\"목차-아이템을-클릭했을-때-해당-영역으로-스크롤하는-기능-구현\",\"text\":\"목차 아이템을 클릭했을 때, 해당 영역으로 스크롤하는 기능 구현\",\"type\":\"h2\"},{\"id\":\"중간-정리\",\"text\":\"중간 정리\",\"type\":\"h2\"},{\"id\":\"사용자가-보고-있는-영역의-제목을-highlight-하기\",\"text\":\"사용자가 보고 있는 영역의 제목을 highlight 하기\",\"type\":\"h2\"},{\"id\":\"intersection-observer로-h-2-h-3-를-관찰하는-방법을-이용한-구현\",\"text\":\"Intersection Observer로 h2, h3를 관찰하는 방법을 이용한 구현\",\"type\":\"h3\"},{\"id\":\"문제점\",\"text\":\"문제점\",\"type\":\"h3\"},{\"id\":\"해결\",\"text\":\"해결\",\"type\":\"h3\"},{\"id\":\"정리\",\"text\":\"정리\",\"type\":\"h2\"}]}}],[\"$\",\"div\",null,{\"className\":\"pl-5 hidden lg:block\",\"children\":[\"$\",\"div\",null,{\"className\":\"sticky top-20 h-full max-h-[calc(100dvh-144px-3rem)] overflow-hidden\",\"children\":[\"$\",\"$L1c\",null,{\"headings\":\"$1d\"}]}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"16:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"TOC(Table of Contents) 컴포넌트 만들기 | k2ep-ru2ning\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"글 상세 페이지에서 사용할 TOC 컴포넌트 개발 후기\"}],[\"$\",\"meta\",\"4\",{\"name\":\"author\",\"content\":\"k2ep-ru2ning\"}],[\"$\",\"link\",\"5\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"6\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?a4b7945e0e6b49fb\",\"type\":\"image/png\",\"sizes\":\"180x180\"}],[\"$\",\"meta\",\"7\",{\"name\":\"next-size-adjust\"}]]\n7:null\n"])</script></body></html>